{"remainingRequest":"/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caijianli/Desktop/malladmin/src/views/container/goodsManage/goodsSpecifications/goodsSpecifications.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caijianli/Desktop/malladmin/src/views/container/goodsManage/goodsSpecifications/goodsSpecifications.vue","mtime":1582099472000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBqc29uRGVlcENsb25lLA0KICB3YXJuaW5nTXNnLA0KICB1dWlkLA0KICBzdWNjZXNzTXNnLA0KICBTVEFUVVNfQ09ERQ0KfSBmcm9tICJAL2NvbW1vbnV0aWxzL2NvbW1vbiI7DQppbXBvcnQgaW1hZ2VVcGxvYWQgZnJvbSAiQC9jb21wb25lbnRzL2ltYWdlVXBsb2FkIjsNCmltcG9ydCB7IHVwZGF0ZVN0YXR1cyB9IGZyb20gIi4uL2NyZWF0ZUdvb2RzL2NvbnRyb2xsZXIvcmVxdWVzdCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJHb29kc1NwZWNpZmljYXRpb25zIiwNCiAgcHJvcHM6IHsNCiAgICBpc0VkaXQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgb3B0aW9uczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gW107DQogICAgICB9DQogICAgfSwNCiAgICBza3U6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIGltYWdlVXBsb2FkDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIGhlYWREYXRhOiBbXSwNCiAgICAgIHByaWNlTGlzdDogW10sDQogICAgICBzcGVjaWZpY2F0aW9uc0RhdGE6IFtdDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAvLyDniLbnu4Tku7bkvKDlhaXop4TmoLzliJfooajvvIznm5HlkKzlubblkIzmraXliLDop4TmoLzliJfooajvvJpzcGVjaWZpY2F0aW9uc0RhdGENCiAgICBvcHRpb25zOiB7DQogICAgICBoYW5kbGVyKHZhbCkgew0KICAgICAgICBpZiAodmFsICYmIHZhbC5sZW5ndGgpIHsNCiAgICAgICAgICB0aGlzLnNwZWNpZmljYXRpb25zRGF0YSA9IGpzb25EZWVwQ2xvbmUodmFsKTsNCiAgICAgICAgICB0aGlzLmhlYWREYXRhID0gdmFsLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgIHJldHVybiBpdGVtLnNwZWNpZmljYXRpb25zOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICAvLyDniLbnu4Tku7bkvKDlhaVza3XliJfooajvvIznm5HlkKzlubblkIzmraXliLDop4TmoLzor6bmg4XooajmoLzvvJp0YWJsZURhdGENCiAgICBza3U6IHsNCiAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgIGlmICh2YWwubGVuZ3RoKSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBqc29uRGVlcENsb25lKHZhbCk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICAvLyDnm5HlkKzop4TmoLzor6bmg4XooajmoLzmlbDmja7lubblrp7ml7blrZjlhaXlpIfku73mlbDmja7vvJpwcmljZUxpc3QNCiAgICB0YWJsZURhdGE6IHsNCiAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgIGlmICh2YWwubGVuZ3RoKSB7DQogICAgICAgICAgbGV0IGNvdW50ID0gMDsNCiAgICAgICAgICB0aGlzLnByaWNlTGlzdCA9IHZhbDsNCiAgICAgICAgICB2YWwuZm9yRWFjaChpdGVtID0+IChjb3VudCArPSBpdGVtWyJjb3VudCJdKSk7DQogICAgICAgICAgdGhpcy50b3RhbCA9IGNvdW50Ow0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkv67mlLlza3XnirbmgIENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsDQogICAgICogQHJldHVybnMgeyB2b2lkIH0NCiAgICAgKi8NCiAgICBhc3luYyBjaGFuZ2VTdGF0dXModmFsKSB7DQogICAgICBjb25zdCBzdGF0dXMgPSB2YWwuc3RhdHVzID09PSAzID8gNCA6IDM7DQogICAgICB0aGlzLiRjb25maXJtKGDnoa7lrpropoEke3N0YXR1cyA9PT0gMyA/ICLkuIrmnrYiIDogIuS4i+aetiJ9c2t177yfYCwgIuaPkOekuiIsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIg0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLmludGVyY2VwdG9yRm4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBtc2cgfSA9IGF3YWl0IHVwZGF0ZVN0YXR1cyh7DQogICAgICAgICAgICAgIGlkOiB2YWwuaWQsDQogICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChjb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHdhcm5pbmdNc2codGhpcywgbXNnKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kc2V0KA0KICAgICAgICAgICAgICB2YWwsDQogICAgICAgICAgICAgICJzdGF0dXNOYW1lIiwNCiAgICAgICAgICAgICAgdmFsLnN0YXR1cyA9PT0gMyA/ICLlt7LkuIvmnrYiIDogIuS4iuaetuS4rSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAic3RhdHVzIiwgc3RhdHVzKTsNCiAgICAgICAgICAgIHN1Y2Nlc3NNc2codGhpcywgIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgIH0sDQogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOWIpOaWreaVsOe7hOaYr+WQpumHjeWkjQ0KICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QNCiAgICAgKiBAcmV0dXJucyB7IHZvaWQgfQ0KICAgICAqLw0KICAgIGlzUmVwZWF0KGxpc3QpIHsNCiAgICAgIGxldCBoYXNoID0ge307DQogICAgICBmb3IgKGxldCBpIGluIGxpc3QpIHsNCiAgICAgICAgaWYgKGhhc2hbbGlzdFtpXV0pIHsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBoYXNoW2xpc3RbaV1dID0gdHJ1ZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkv53lrZjop4TmoLzvvIzlubblsIbop4TmoLzliJfooajmm7TmlrDliLDniLbnu4Tku7YNCiAgICAgKiBAcmV0dXJucyB7IHZvaWQgfQ0KICAgICAqLw0KICAgIHNhdmVEYXRhKCkgew0KICAgICAgbGV0IG9yaWdpbk9iaiA9IHRoaXMuc3BlY2lmaWNhdGlvbnNEYXRhOw0KICAgICAgbGV0IHRhYmxlRGF0YSA9IFtdOw0KICAgICAgbGV0IGhlYWREYXRhID0gW107DQogICAgICBjb25zdCBjaGVja1R5cGVMaXN0ID0gW107DQogICAgICAvLyDop4TmoLzliKTnqboNCiAgICAgIGlmICghb3JpZ2luT2JqLmxlbmd0aCkgew0KICAgICAgICB3YXJuaW5nTXNnKHRoaXMsICLor7flhYjmt7vliqDop4TmoLwiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8g6KeE5qC85pWw5o2u5qCh6aqMDQogICAgICBmb3IgKGxldCBpdGVtIG9mIG9yaWdpbk9iaikgew0KICAgICAgICBpZiAoIWl0ZW0uc3BlY2lmaWNhdGlvbnMpIHsNCiAgICAgICAgICB3YXJuaW5nTXNnKHRoaXMsICLop4TmoLzlkI3np7DkuI3og73kuLrnqboiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYgKGl0ZW0uc3BlY2lmaWNhdGlvbnMubGVuZ3RoID4gMTApIHsNCiAgICAgICAgICB3YXJuaW5nTXNnKHRoaXMsICLop4TmoLzlkI3np7DkuI3og73otoXov4cxMOS4quWtl+espiIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIWl0ZW0udHlwZS5sZW5ndGgpIHsNCiAgICAgICAgICB3YXJuaW5nTXNnKA0KICAgICAgICAgICAgdGhpcywNCiAgICAgICAgICAgIGDor7foh7PlsJHnu5njgJAke2l0ZW0uc3BlY2lmaWNhdGlvbnN944CR6KeE5qC85re75Yqg5LiA56eN57G75Z6LYA0KICAgICAgICAgICk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGl0ZW0udHlwZSkgew0KICAgICAgICAgIGlmICghY2hpbGQubmFtZSkgew0KICAgICAgICAgICAgd2FybmluZ01zZyh0aGlzLCAi6KeE5qC85YC85LiN6IO95Li656m6Iik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChjaGlsZC5uYW1lLmxlbmd0aCA+IDEwKSB7DQogICAgICAgICAgICB3YXJuaW5nTXNnKHRoaXMsICLop4TmoLzlgLzkuI3og73otoXov4cxMOS4quWtl+espiIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBoZWFkRGF0YS5wdXNoKGl0ZW0uc3BlY2lmaWNhdGlvbnMpOw0KICAgICAgfQ0KICAgICAgaWYgKG9yaWdpbk9ialsxXSkgew0KICAgICAgICAvLyDlvqrnjq/nrKzkuIDnp43op4TmoLzvvIzlubblsIbop4TmoLzlgLzmj5LlhaVjaGVja1R5cGVMaXN05pWw57uE77yM5ZCO57ut6L+b6KGM5Y676YeN5Yik5patDQogICAgICAgIGZvciAobGV0IGl0ZW0gb2Ygb3JpZ2luT2JqWzFdLnR5cGUpIHsNCiAgICAgICAgICBjaGVja1R5cGVMaXN0LnB1c2goaXRlbS5uYW1lKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8g5b6q546v56ys5LqM56eN6KeE5qC8DQogICAgICBmb3IgKGxldCBub2RlIG9mIG9yaWdpbk9ialswXS50eXBlKSB7DQogICAgICAgIC8vIOWwhuinhOagvOWAvOaPkuWFpWNoZWNrVHlwZUxpc3TmlbDnu4TvvIzlkI7nu63ov5vooYzljrvph43liKTmlq0NCiAgICAgICAgY2hlY2tUeXBlTGlzdC5wdXNoKG5vZGUubmFtZSk7DQogICAgICAgIC8vIOWmguaenOWtmOWcqOWkmuenjeinhOagvOWImeW+queOr+ivpeinhOagvOWIl+ihqO+8jOW5tue7hOWQiOaVsOaNrg0KICAgICAgICBpZiAob3JpZ2luT2JqWzFdKSB7DQogICAgICAgICAgLy8g5b6q546v6KeE5qC85YC85YiX6KGo44CC5qC85byP5YyW6KeE5qC877yM5bm257uE5ZCI6KeE5qC86K+m5oOF6KGo5qC85pWw5o2uDQogICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBvcmlnaW5PYmpbMV0udHlwZSkgew0KICAgICAgICAgICAgbGV0IG9iaiA9IHt9Ow0KICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZSAmJiBub2RlLm5hbWUpIHsNCiAgICAgICAgICAgICAgLy8g5b6q546v6KeE5qC8MeWSjOinhOagvDLop4TmoLzlgLzmi7zmjqXkvZzkuLp1aWTlkI7nu63nlKjmnaXmlbDmja7lr7nmr5QNCiAgICAgICAgICAgICAgbGV0IGtleSA9IG5vZGUubmFtZSArICItIiArIGl0ZW0ubmFtZTsNCiAgICAgICAgICAgICAgaWYgKHRoaXMucHJpY2VMaXN0Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIC8vIOW8gOWni+WvueavlOaVsOaNru+8jOWwhuW9k+WJjWtleeWSjOS5i+WJjWNoZWNrVHlwZUxpc3TmlbDnu4Tkv53lrZjnmoTmlbDmja7ov5vooYzlr7nmr5QNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMucHJpY2VMaXN0KSB7DQogICAgICAgICAgICAgICAgICAvLyDlpoLmnpxrZXnnm7jlkIzlsIZjaGVja1R5cGVMaXN05pWw57uE5L+d5a2Y55qE5pWw5o2u5Zue5aGr5Yiw5b2T5YmN5a+56LGh5Lit77yM5bm25LiU5Lit5q2i5b6q546vDQogICAgICAgICAgICAgICAgICBpZiAoaXRlbS51aWQgPT09IGtleSkgew0KICAgICAgICAgICAgICAgICAgICBvYmpbInNob3dQcmljZSJdID0gaXRlbS5zaG93UHJpY2U7DQogICAgICAgICAgICAgICAgICAgIG9ialsiY29zdFByaWNlIl0gPSBpdGVtLmNvc3RQcmljZTsNCiAgICAgICAgICAgICAgICAgICAgb2JqWyJjb3VudCJdID0gaXRlbS5jb3VudDsNCiAgICAgICAgICAgICAgICAgICAgb2JqWyJzbkNvZGUiXSA9IGl0ZW0uc25Db2RlOw0KICAgICAgICAgICAgICAgICAgICBvYmpbInNuc3RhdHVzTmFtZUNvZGUiXSA9IGl0ZW0uc3RhdHVzTmFtZSB8fCAiLSI7DQogICAgICAgICAgICAgICAgICAgIG9ialsiY292ZXIiXSA9IGl0ZW0uY292ZXI7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6ca2V55LiN55u45ZCM77yM5Yik5pat5b2T5YmN5pWw5o2u5Li65paw5aKe5pWw5o2u77yM5bm26K6+572u5Yid5aeL5YC8DQogICAgICAgICAgICAgICAgICAgIG9ialsic2hvd1ByaWNlIl0gPSAxOw0KICAgICAgICAgICAgICAgICAgICBvYmpbImNvc3RQcmljZSJdID0gMTsNCiAgICAgICAgICAgICAgICAgICAgb2JqWyJjb3VudCJdID0gMTsNCiAgICAgICAgICAgICAgICAgICAgb2JqWyJzbkNvZGUiXSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICBvYmpbImNvdmVyIl0gPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgb2JqWyJzdGF0dXNOYW1lIl0gPSAiLSI7DQogICAgICAgICAgICAgICAgICAgIG9ialsiaXNOZXciXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9ialsic2hvd1ByaWNlIl0gPSAxOw0KICAgICAgICAgICAgICAgIG9ialsiY29zdFByaWNlIl0gPSAxOw0KICAgICAgICAgICAgICAgIG9ialsiY291bnQiXSA9IDE7DQogICAgICAgICAgICAgICAgb2JqWyJzbkNvZGUiXSA9ICIiOw0KICAgICAgICAgICAgICAgIG9ialsic3RhdHVzTmFtZSJdID0gIi0iOw0KICAgICAgICAgICAgICAgIG9ialsiY292ZXIiXSA9ICIiOw0KICAgICAgICAgICAgICAgIG9ialsiaXNOZXciXSA9IHRydWU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLy8g55So6KeE5qC85YC85L2c5Li6a2V56K6+572u5a+56LGh5pWw5o2uDQogICAgICAgICAgICAgIG9ialtvcmlnaW5PYmpbMF0uc3BlY2lmaWNhdGlvbnNdID0gbm9kZS5uYW1lOw0KICAgICAgICAgICAgICBvYmpbb3JpZ2luT2JqWzFdLnNwZWNpZmljYXRpb25zXSA9IGl0ZW0ubmFtZTsNCiAgICAgICAgICAgICAgb2JqLnVpZCA9IGtleTsNCiAgICAgICAgICAgICAgb2JqLnZhbHVlTGlzdCA9IFtub2RlLm5hbWUsIGl0ZW0ubmFtZV07DQogICAgICAgICAgICAgIC8vIOWwhue7hOWQiOWlveeahOaVsOaNruaPkuWFpeWIsOinhOagvOivpuaDheihqOagvHRhYmxlRGF0YQ0KICAgICAgICAgICAgICB0YWJsZURhdGEucHVzaChvYmopOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDlpoLmnpzlj6rmnInkuIDnp43op4TmoLwNCiAgICAgICAgICBsZXQgb2JqID0ge307DQogICAgICAgICAgbGV0IGtleSA9IG5vZGUubmFtZTsNCiAgICAgICAgICBpZiAoIW5vZGUubmFtZSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBvYmpbb3JpZ2luT2JqWzBdLnNwZWNpZmljYXRpb25zXSA9IG5vZGUubmFtZTsNCiAgICAgICAgICBvYmoudWlkID0ga2V5Ow0KICAgICAgICAgIG9iai52YWx1ZUxpc3QgPSBba2V5XTsNCiAgICAgICAgICAvLyDliKTmlq3lvZPliY3lr7nosaFrZXnmmK/lkKblkozlpIfku73mlbDmja5wcmljZUxpc3TnmoRrZXnmmK/lkKbnm7jlkIwNCiAgICAgICAgICBpZiAodGhpcy5wcmljZUxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMucHJpY2VMaXN0KSB7DQogICAgICAgICAgICAgIC8vIOWmguaenOebuOWQjOWImeWbnuWhqw0KICAgICAgICAgICAgICBpZiAoaXRlbS51aWQgPT09IGtleSkgew0KICAgICAgICAgICAgICAgIG9ialsic2hvd1ByaWNlIl0gPSBpdGVtLnNob3dQcmljZTsNCiAgICAgICAgICAgICAgICBvYmpbImNvc3RQcmljZSJdID0gaXRlbS5jb3N0UHJpY2U7DQogICAgICAgICAgICAgICAgb2JqWyJjb3VudCJdID0gaXRlbS5jb3VudDsNCiAgICAgICAgICAgICAgICBvYmpbInNuQ29kZSJdID0gaXRlbS5zbkNvZGU7DQogICAgICAgICAgICAgICAgb2JqWyJjb3ZlciJdID0gaXRlbS5jb3ZlcjsNCiAgICAgICAgICAgICAgICBvYmpbInN0YXR1c05hbWUiXSA9IGl0ZW0uc3RhdHVzTmFtZSB8fCAiLSI7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgb2JqWyJzaG93UHJpY2UiXSA9IDE7DQogICAgICAgICAgICAgICAgb2JqWyJjb3N0UHJpY2UiXSA9IDE7DQogICAgICAgICAgICAgICAgb2JqWyJjb3VudCJdID0gMTsNCiAgICAgICAgICAgICAgICBvYmpbInNuQ29kZSJdID0gIiI7DQogICAgICAgICAgICAgICAgb2JqWyJzdGF0dXNOYW1lIl0gPSAiLSI7DQogICAgICAgICAgICAgICAgb2JqWyJjb3ZlciJdID0gIiI7DQogICAgICAgICAgICAgICAgb2JqWyJpc05ldyJdID0gdHJ1ZTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvYmpbInNob3dQcmljZSJdID0gMTsNCiAgICAgICAgICAgIG9ialsiY29zdFByaWNlIl0gPSAxOw0KICAgICAgICAgICAgb2JqWyJjb3VudCJdID0gMTsNCiAgICAgICAgICAgIG9ialsic25Db2RlIl0gPSAiIjsNCiAgICAgICAgICAgIG9ialsic3RhdHVzTmFtZSJdID0gIi0iOw0KICAgICAgICAgICAgb2JqWyJjb3ZlciJdID0gIiI7DQogICAgICAgICAgICBvYmpbImlzTmV3Il0gPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0YWJsZURhdGEucHVzaChvYmopOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodGhpcy5pc1JlcGVhdChjaGVja1R5cGVMaXN0KSkgew0KICAgICAgICB3YXJuaW5nTXNnKHRoaXMsICLop4TmoLzlgLzkuI3og73ph43lpI3vvIzor7fph43mlrDovpPlhaUiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy50YWJsZURhdGEgPSB0YWJsZURhdGE7DQogICAgICB0aGlzLmhlYWREYXRhID0gaGVhZERhdGE7DQogICAgICAvLyDlsIbnu4TlkIjlkI7nmoTmlbDmja7mm7TmlrDliLDniLbnu4Tku7YNCiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpvcHRpb25zIiwgdGhpcy5zcGVjaWZpY2F0aW9uc0RhdGEpOw0KICAgIH0sDQogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOexu+Weiw0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlDQogICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0NCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8NCiAgICBkZWxUeXBlKHR5cGUsIGl0ZW0pIHsNCiAgICAgIGl0ZW0udHlwZSA9IGl0ZW0udHlwZS5maWx0ZXIodmFsID0+IHZhbC5pZCAhPT0gdHlwZS5pZCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk6KeE5qC8DQogICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0NCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8NCiAgICBkZWxTcGVjaWZpY2F0aW9ucyhpdGVtKSB7DQogICAgICB0aGlzLnNwZWNpZmljYXRpb25zRGF0YSA9IHRoaXMuc3BlY2lmaWNhdGlvbnNEYXRhLmZpbHRlcigNCiAgICAgICAgdmFsID0+IHZhbC5pZCAhPT0gaXRlbS5pZA0KICAgICAgKTsNCiAgICAgIHRoaXMudGFibGVEYXRhID0gW107DQogICAgICB0aGlzLmhlYWREYXRhID0gW107DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5re75Yqg6KeE5qC85YC8DQogICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0NCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8NCiAgICBhZGRUeXBlKGl0ZW0pIHsNCiAgICAgIGlmIChpdGVtLnR5cGUubGVuZ3RoID49IDEwKSB7DQogICAgICAgIHdhcm5pbmdNc2codGhpcywgIuinhOagvOacgOWkmuWPquiDvea3u+WKoDEw56eNIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGl0ZW0udHlwZS5wdXNoKHsNCiAgICAgICAgbmFtZTogIiIsDQogICAgICAgIGlkOiB1dWlkKCksDQogICAgICAgIGlzTmV3OiB0cnVlDQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaWsOWinuinhOagvA0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqLw0KICAgIGFkZFNwZWNpZmljYXRpb25zKCkgew0KICAgICAgaWYgKHRoaXMuc3BlY2lmaWNhdGlvbnNEYXRhLmxlbmd0aCA+PSAyKSB7DQogICAgICAgIHdhcm5pbmdNc2codGhpcywgIuinhOagvOacgOWkmuWPquiDvea3u+WKoOS4pOenjSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLnNwZWNpZmljYXRpb25zRGF0YS5wdXNoKHsNCiAgICAgICAgc3BlY2lmaWNhdGlvbnM6ICIiLA0KICAgICAgICBpZDogdXVpZCgpLA0KICAgICAgICB0eXBlOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICBpZDogdXVpZCgpDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["goodsSpecifications.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goodsSpecifications.vue","sourceRoot":"src/views/container/goodsManage/goodsSpecifications","sourcesContent":["<template>\r\n  <section class=\"layout\">\r\n    <div class=\"specifications-set\">\r\n      <div class=\"type-sub\" v-if=\"this.specificationsData.length < 2 && !isEdit\">\r\n        <div class=\"red\">*</div>\r\n        <el-button\r\n          size=\"medium\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          @click=\"addSpecifications\"\r\n          >添加规格</el-button\r\n        >\r\n      </div>\r\n      <div class=\"min-scrollbar\">\r\n        <template v-for=\"(item, index) in specificationsData\">\r\n          <div :key=\"index\" class=\"tag-list\">\r\n            <div class=\"tag-item name\">\r\n              <el-form-item label=\"规格名称\">\r\n                <el-input\r\n                  size=\"medium\"\r\n                  style=\"width: 150px;\"\r\n                  v-model=\"item.specifications\"\r\n                >\r\n                  <el-button\r\n                    v-if=\"!isEdit\"\r\n                    type=\"text\"\r\n                    slot=\"suffix\"\r\n                    icon=\"el-icon-error\"\r\n                    @click=\"delSpecifications(item)\"\r\n                  ></el-button>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"type-list\">\r\n              <div class=\"tag-item\" v-for=\"type in item.type\" :key=\"type.id\">\r\n                <el-input\r\n                  size=\"medium\"\r\n                  style=\"width: 150px;\"\r\n                  v-model=\"type.name\"\r\n                >\r\n                  <el-button\r\n                    v-if=\"type.isNew\"\r\n                    type=\"text\"\r\n                    size=\"medium\"\r\n                    slot=\"suffix\"\r\n                    icon=\"el-icon-error\"\r\n                    @click=\"delType(type, item)\"\r\n                  ></el-button>\r\n                </el-input>\r\n              </div>\r\n              <div class=\"tag-item\" v-if=\"item.type.length < 10\">\r\n                <el-button\r\n                  size=\"medium\"\r\n                  icon=\"el-icon-plus\"\r\n                  @click=\"addType(item)\"\r\n                  >添加规格值</el-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <div class=\"type-sub\" v-if=\"this.specificationsData.length\">\r\n          <el-button class=\"save\" type=\"primary\" title=\"点击保存并生成规格明细\" @click=\"saveData\">保存</el-button>\r\n        </div>\r\n      </div>\r\n      <main class=\"specifications-table\" v-if=\"tableData.length\">\r\n        <div class=\"table-title\">\r\n          规格明细\r\n        </div>\r\n        <el-table\r\n          :data=\"tableData\"\r\n          border\r\n          max-height=\"400\"\r\n          size=\"mini\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column v-for=\"(item, index) in headData\" :key=\"item + index\" :label=\"item\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row[item] }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"原价\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input-number\r\n                style=\"width:100%\"\r\n                size=\"mini\"\r\n                v-model=\"scope.row.showPrice\"\r\n                controls-position=\"right\"\r\n                :precision=\"2\"\r\n                :step=\"0.1\"\r\n                :min=\"0.01\"\r\n                :max=\"99999\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"售价\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input-number\r\n                size=\"mini\"\r\n                style=\"width:100%\"\r\n                v-model=\"scope.row.costPrice\"\r\n                controls-position=\"right\"\r\n                :precision=\"2\"\r\n                :step=\"0.1\"\r\n                :min=\"0.01\"\r\n                :max=\"99999\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"当前库存\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input-number\r\n                style=\"width:100%\"\r\n                size=\"mini\"\r\n                v-model=\"scope.row.count\"\r\n                controls-position=\"right\"\r\n                step-strictly\r\n                type=\"number\"\r\n                :min=\"1\"\r\n                :max=\"99999\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品编码\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.snCode\"\r\n                :min=\"1\"\r\n                :max=\"30\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"图片(750*750,<1MB)\">\r\n            <template slot-scope=\"scope\">\r\n              <image-upload\r\n                :width=\"'50px'\"\r\n                :height=\"'50px'\"\r\n                :isShowTip=\"false\"\r\n                :image.sync=\"scope.row.cover\"\r\n              ></image-upload>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"isEdit\" label=\"状态\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.statusName }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"isEdit\" label=\"操作\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button v-if=\"!scope.row.isNew\" @click=\"changeStatus(scope.row)\" type=\"text\">\r\n                {{ scope.row.status === 3 ? \"下架\" : \"上架\" }}\r\n              </el-button>\r\n              <template v-else>-</template>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </main>\r\n      <main class=\"specifications-table\" v-if=\"tableData.length\">\r\n        <div class=\"table-title\">\r\n          总库存\r\n        </div>\r\n        <div class=\"\">{{ total }}</div>\r\n      </main>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  jsonDeepClone,\r\n  warningMsg,\r\n  uuid,\r\n  successMsg,\r\n  STATUS_CODE\r\n} from \"@/commonutils/common\";\r\nimport imageUpload from \"@/components/imageUpload\";\r\nimport { updateStatus } from \"../createGoods/controller/request\";\r\nexport default {\r\n  name: \"GoodsSpecifications\",\r\n  props: {\r\n    isEdit: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    options: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    sku: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    imageUpload\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      tableData: [],\r\n      headData: [],\r\n      priceList: [],\r\n      specificationsData: []\r\n    };\r\n  },\r\n  watch: {\r\n    // 父组件传入规格列表，监听并同步到规格列表：specificationsData\r\n    options: {\r\n      handler(val) {\r\n        if (val && val.length) {\r\n          this.specificationsData = jsonDeepClone(val);\r\n          this.headData = val.map(item => {\r\n            return item.specifications;\r\n          });\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    // 父组件传入sku列表，监听并同步到规格详情表格：tableData\r\n    sku: {\r\n      handler(val) {\r\n        if (val.length) {\r\n          this.tableData = jsonDeepClone(val);\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    // 监听规格详情表格数据并实时存入备份数据：priceList\r\n    tableData: {\r\n      handler(val) {\r\n        if (val.length) {\r\n          let count = 0;\r\n          this.priceList = val;\r\n          val.forEach(item => (count += item[\"count\"]));\r\n          this.total = count;\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description 修改sku状态\r\n     * @param {Object} val\r\n     * @returns { void }\r\n     */\r\n    async changeStatus(val) {\r\n      const status = val.status === 3 ? 4 : 3;\r\n      this.$confirm(`确定要${status === 3 ? \"上架\" : \"下架\"}sku？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(() => {\r\n          this.isLoading = true;\r\n          this.interceptorFn(async () => {\r\n            const { code, msg } = await updateStatus({\r\n              id: val.id,\r\n              status: status\r\n            });\r\n            if (code !== STATUS_CODE.success) {\r\n              warningMsg(this, msg);\r\n              return;\r\n            }\r\n            this.$set(\r\n              val,\r\n              \"statusName\",\r\n              val.status === 3 ? \"已下架\" : \"上架中\"\r\n            );\r\n            this.$set(val, \"status\", status);\r\n            successMsg(this, \"操作成功\");\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    /**\r\n     * @description 判断数组是否重复\r\n     * @param {Array} list\r\n     * @returns { void }\r\n     */\r\n    isRepeat(list) {\r\n      let hash = {};\r\n      for (let i in list) {\r\n        if (hash[list[i]]) {\r\n          return true;\r\n        }\r\n        hash[list[i]] = true;\r\n      }\r\n      return false;\r\n    },\r\n    /**\r\n     * @description 保存规格，并将规格列表更新到父组件\r\n     * @returns { void }\r\n     */\r\n    saveData() {\r\n      let originObj = this.specificationsData;\r\n      let tableData = [];\r\n      let headData = [];\r\n      const checkTypeList = [];\r\n      // 规格判空\r\n      if (!originObj.length) {\r\n        warningMsg(this, \"请先添加规格\");\r\n        return;\r\n      }\r\n      // 规格数据校验\r\n      for (let item of originObj) {\r\n        if (!item.specifications) {\r\n          warningMsg(this, \"规格名称不能为空\");\r\n          return;\r\n        }\r\n        if (item.specifications.length > 10) {\r\n          warningMsg(this, \"规格名称不能超过10个字符\");\r\n          return;\r\n        }\r\n        if (!item.type.length) {\r\n          warningMsg(\r\n            this,\r\n            `请至少给【${item.specifications}】规格添加一种类型`\r\n          );\r\n          return;\r\n        }\r\n        for (let child of item.type) {\r\n          if (!child.name) {\r\n            warningMsg(this, \"规格值不能为空\");\r\n            return;\r\n          }\r\n          if (child.name.length > 10) {\r\n            warningMsg(this, \"规格值不能超过10个字符\");\r\n            return;\r\n          }\r\n        }\r\n        headData.push(item.specifications);\r\n      }\r\n      if (originObj[1]) {\r\n        // 循环第一种规格，并将规格值插入checkTypeList数组，后续进行去重判断\r\n        for (let item of originObj[1].type) {\r\n          checkTypeList.push(item.name);\r\n        }\r\n      }\r\n      // 循环第二种规格\r\n      for (let node of originObj[0].type) {\r\n        // 将规格值插入checkTypeList数组，后续进行去重判断\r\n        checkTypeList.push(node.name);\r\n        // 如果存在多种规格则循环该规格列表，并组合数据\r\n        if (originObj[1]) {\r\n          // 循环规格值列表。格式化规格，并组合规格详情表格数据\r\n          for (let item of originObj[1].type) {\r\n            let obj = {};\r\n            if (item.name && node.name) {\r\n              // 循环规格1和规格2规格值拼接作为uid后续用来数据对比\r\n              let key = node.name + \"-\" + item.name;\r\n              if (this.priceList.length) {\r\n                // 开始对比数据，将当前key和之前checkTypeList数组保存的数据进行对比\r\n                for (let item of this.priceList) {\r\n                  // 如果key相同将checkTypeList数组保存的数据回填到当前对象中，并且中止循环\r\n                  if (item.uid === key) {\r\n                    obj[\"showPrice\"] = item.showPrice;\r\n                    obj[\"costPrice\"] = item.costPrice;\r\n                    obj[\"count\"] = item.count;\r\n                    obj[\"snCode\"] = item.snCode;\r\n                    obj[\"snstatusNameCode\"] = item.statusName || \"-\";\r\n                    obj[\"cover\"] = item.cover;\r\n                    break;\r\n                  } else {\r\n                    // 如果key不相同，判断当前数据为新增数据，并设置初始值\r\n                    obj[\"showPrice\"] = 1;\r\n                    obj[\"costPrice\"] = 1;\r\n                    obj[\"count\"] = 1;\r\n                    obj[\"snCode\"] = \"\";\r\n                    obj[\"cover\"] = \"\";\r\n                    obj[\"statusName\"] = \"-\";\r\n                    obj[\"isNew\"] = true;\r\n                  }\r\n                }\r\n              } else {\r\n                obj[\"showPrice\"] = 1;\r\n                obj[\"costPrice\"] = 1;\r\n                obj[\"count\"] = 1;\r\n                obj[\"snCode\"] = \"\";\r\n                obj[\"statusName\"] = \"-\";\r\n                obj[\"cover\"] = \"\";\r\n                obj[\"isNew\"] = true;\r\n              }\r\n              // 用规格值作为key设置对象数据\r\n              obj[originObj[0].specifications] = node.name;\r\n              obj[originObj[1].specifications] = item.name;\r\n              obj.uid = key;\r\n              obj.valueList = [node.name, item.name];\r\n              // 将组合好的数据插入到规格详情表格tableData\r\n              tableData.push(obj);\r\n            }\r\n          }\r\n        } else {\r\n          // 如果只有一种规格\r\n          let obj = {};\r\n          let key = node.name;\r\n          if (!node.name) {\r\n            return;\r\n          }\r\n          obj[originObj[0].specifications] = node.name;\r\n          obj.uid = key;\r\n          obj.valueList = [key];\r\n          // 判断当前对象key是否和备份数据priceList的key是否相同\r\n          if (this.priceList.length) {\r\n            for (let item of this.priceList) {\r\n              // 如果相同则回填\r\n              if (item.uid === key) {\r\n                obj[\"showPrice\"] = item.showPrice;\r\n                obj[\"costPrice\"] = item.costPrice;\r\n                obj[\"count\"] = item.count;\r\n                obj[\"snCode\"] = item.snCode;\r\n                obj[\"cover\"] = item.cover;\r\n                obj[\"statusName\"] = item.statusName || \"-\";\r\n                break;\r\n              } else {\r\n                obj[\"showPrice\"] = 1;\r\n                obj[\"costPrice\"] = 1;\r\n                obj[\"count\"] = 1;\r\n                obj[\"snCode\"] = \"\";\r\n                obj[\"statusName\"] = \"-\";\r\n                obj[\"cover\"] = \"\";\r\n                obj[\"isNew\"] = true;\r\n              }\r\n            }\r\n          } else {\r\n            obj[\"showPrice\"] = 1;\r\n            obj[\"costPrice\"] = 1;\r\n            obj[\"count\"] = 1;\r\n            obj[\"snCode\"] = \"\";\r\n            obj[\"statusName\"] = \"-\";\r\n            obj[\"cover\"] = \"\";\r\n            obj[\"isNew\"] = true;\r\n          }\r\n          tableData.push(obj);\r\n        }\r\n      }\r\n      if (this.isRepeat(checkTypeList)) {\r\n        warningMsg(this, \"规格值不能重复，请重新输入\");\r\n        return;\r\n      }\r\n      this.tableData = tableData;\r\n      this.headData = headData;\r\n      // 将组合后的数据更新到父组件\r\n      this.$emit(\"update:options\", this.specificationsData);\r\n    },\r\n    /**\r\n     * @description 删除类型\r\n     * @param {Object} type\r\n     * @param {Object} item\r\n     * @returns {void}\r\n     */\r\n    delType(type, item) {\r\n      item.type = item.type.filter(val => val.id !== type.id);\r\n    },\r\n    /**\r\n     * @description 删除规格\r\n     * @param {Object} item\r\n     * @returns {void}\r\n     */\r\n    delSpecifications(item) {\r\n      this.specificationsData = this.specificationsData.filter(\r\n        val => val.id !== item.id\r\n      );\r\n      this.tableData = [];\r\n      this.headData = [];\r\n    },\r\n    /**\r\n     * @description 添加规格值\r\n     * @param {Object} item\r\n     * @returns {void}\r\n     */\r\n    addType(item) {\r\n      if (item.type.length >= 10) {\r\n        warningMsg(this, \"规格最多只能添加10种\");\r\n        return;\r\n      }\r\n      item.type.push({\r\n        name: \"\",\r\n        id: uuid(),\r\n        isNew: true\r\n      });\r\n    },\r\n    /**\r\n     * 新增规格\r\n     * @returns {void}\r\n     */\r\n    addSpecifications() {\r\n      if (this.specificationsData.length >= 2) {\r\n        warningMsg(this, \"规格最多只能添加两种\");\r\n        return;\r\n      }\r\n      this.specificationsData.push({\r\n        specifications: \"\",\r\n        id: uuid(),\r\n        type: [\r\n          {\r\n            name: \"\",\r\n            id: uuid()\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.specifications-set {\r\n  width: auto;\r\n  margin: 0 auto;\r\n  .tag-list {\r\n    margin-top: 20px;\r\n    max-height: 300px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    .type-list {\r\n      display: flex;\r\n      padding-left: 68px;\r\n      margin-top: 20px;\r\n      flex-wrap: wrap;\r\n      .tag-item {\r\n        margin-right: 20px;\r\n        margin-bottom: 20px;\r\n      }\r\n    }\r\n  }\r\n  .specifications-table {\r\n    min-width: 1000px;\r\n    display: flex;\r\n    /*padding-left: 30px;*/\r\n    margin-top: 20px;\r\n    .table-title {\r\n      font-size: 14px;\r\n      color: #333333;\r\n      font-weight: bolder;\r\n      padding-right: 15px;\r\n    }\r\n  }\r\n  .type-sub {\r\n    display: flex;\r\n    align-items: center;\r\n    > .save {\r\n      margin-left: 68px;\r\n    }\r\n    > div.red {\r\n      color: #f00;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}