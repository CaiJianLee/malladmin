{"remainingRequest":"/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caijianli/Desktop/malladmin/src/views/container/articleManage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caijianli/Desktop/malladmin/src/views/container/articleManage/index.vue","mtime":1582099472000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBzdWNjZXNzTXNnLA0KICBqc29uRGVlcENsb25lLA0KICBTVEFUVVNfQ09ERSwNCiAgZXJyb3JNc2csDQogIGRhdGFGb3JtYXQsDQogIHJlZ0ZlblRvWXVhbg0KfSBmcm9tICJAL2NvbW1vbnV0aWxzL2NvbW1vbiI7DQppbXBvcnQgbm9JbWcgZnJvbSAiQC9hc3NldHMvaW1hZ2VzL25vSW1nLmpwZyI7DQppbXBvcnQgeyBnZXRDb250ZW50TGlzdCwgY29udGVudFR5cGVMaXN0LCB1cGRhdGVTdGF0dXMgfSBmcm9tICIuL3JlcXVlc3QiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJpbmRleCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2VTaXplczogSlNPTi5wYXJzZShwcm9jZXNzLmVudi5WVUVfQVBQX1BBR0VfU0laRSksDQogICAgICBub0ltZzogbm9JbWcsDQogICAgICBpc0xvYWRpbmc6IGZhbHNlLA0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIGZpbHRlcjogew0KICAgICAgICBrZXl3b3JkOiAiIiwNCiAgICAgICAgc3RhdHVzOiAwLA0KICAgICAgICB0eXBlOiAwDQogICAgICB9LA0KICAgICAgcGFnZTogew0KICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB0b3RhbDogMA0KICAgICAgfSwNCiAgICAgIHN0YXR1c0xpc3Q6IFsNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICLlhajpg6giLA0KICAgICAgICAgIGlkOiAwDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAi5LiK5p62IiwNCiAgICAgICAgICBpZDogMQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogIuS4i+aetiIsDQogICAgICAgICAgaWQ6IDINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIGNvbnRlbnRUeXBlTGlzdDogY29udGVudFR5cGVMaXN0DQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvKioNCiAgICAgKiDot6/nlLHkv6Hmga8NCiAgICAgKiBAcmV0dXJucyB7Um91dGV9IOi3r+eUseS/oeaBrw0KICAgICAqLw0KICAgIHJvdXRlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6K6+572u54q25oCB6aKc6ImyDQogICAgICogQHJldHVybnMge1N0cmluZ30gY29sb3INCiAgICAgKi8NCiAgICBzZXRGb250Q29sb3IoKSB7DQogICAgICByZXR1cm4gdmFsID0+IHsNCiAgICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgICBjYXNlICLlt7LkuIrmnrYiOg0KICAgICAgICAgICAgcmV0dXJuICIjMjZBRjYxIjsNCiAgICAgICAgICBjYXNlICLlt7LkuIvmnrYiOg0KICAgICAgICAgICAgcmV0dXJuICIjOTk5IjsNCiAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgcmV0dXJuICIjMzMzIjsNCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvKioNCiAgICAgKiDmoLnmja7mnaHku7bmn6Xor6LlhoXlrrkNCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8NCiAgICBmaWx0ZXJEYXRhKCkgew0KICAgICAgdGhpcy5wYWdlLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgIHRoaXMucGFnZS5wYWdlU2l6ZSA9IDEwOw0KICAgICAgdGhpcy5nZXRHb29kc0xpc3QoKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIhui9rOWFgw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWwNCiAgICAgKiBAcmV0dXJucyB7Um91dGV9IOWFgw0KICAgICAqLw0KICAgIHNldFNob3dQcmljZSh2YWwpIHsNCiAgICAgIHJldHVybiByZWdGZW5Ub1l1YW4odmFsKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaXtumXtOaIs+agvOW8j+WMlg0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWwNCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB5eXl5LW0tZCBoaDptbTpzcw0KICAgICAqLw0KICAgIHNldFB1bGlzaFRpbWUodmFsKSB7DQogICAgICBpZiAoIXZhbCB8fCAhcGFyc2VJbnQodmFsKSkgew0KICAgICAgICByZXR1cm4gIi0iOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGRhdGFGb3JtYXQodmFsKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOmHjee9ruetm+mAiQ0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqLw0KICAgIHJlc3RGaWx0ZXIoKSB7DQogICAgICB0aGlzLmZpbHRlci5rZXl3b3JkID0gIiI7DQogICAgICB0aGlzLmZpbHRlci50eXBlID0gMDsNCiAgICAgIHRoaXMucGFnZS5jdXJyZW50UGFnZSA9IDE7DQogICAgICB0aGlzLnBhZ2UucGFnZVNpemUgPSAxMDsNCiAgICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmoLnmja7mnaHku7bojrflj5blhoXlrrnliJfooagNCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0g5omA5pyJ5YaF5a655YiX6KGoDQogICAgICovDQogICAgYXN5bmMgZ2V0R29vZHNMaXN0KCkgew0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBrZXl3b3JkOiB0aGlzLmZpbHRlci5rZXl3b3JkID8gdGhpcy5maWx0ZXIua2V5d29yZCA6IHVuZGVmaW5lZCwNCiAgICAgICAgc3RhdHVzOiB0aGlzLmZpbHRlci5zdGF0dXMgIT09IDAgPyB0aGlzLmZpbHRlci5zdGF0dXMgOiB1bmRlZmluZWQsDQogICAgICAgIHR5cGU6IHRoaXMuZmlsdGVyLnR5cGUgIT09IDAgPyB0aGlzLmZpbHRlci50eXBlIDogdW5kZWZpbmVkLA0KICAgICAgICBwYWdlOiB0aGlzLnBhZ2UuY3VycmVudFBhZ2UsDQogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2UucGFnZVNpemUNCiAgICAgIH07DQogICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udGVudExpc3QocGFyYW1zKTsNCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICBpZiAoZGF0YS5jb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSB7DQogICAgICAgIGVycm9yTXNnKHRoaXMsIGRhdGEubXNnKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy50YWJsZURhdGEgPSBqc29uRGVlcENsb25lKGRhdGEucmVzdWx0Lmxpc3QpOw0KICAgICAgdGhpcy5wYWdlLnRvdGFsID0gZGF0YS5yZXN1bHQuY291bnQ7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnv7vpobUNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZS5jdXJyZW50UGFnZSA9IHZhbDsNCiAgICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDorr7nva7pobXmlbANCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZS5jdXJyZW50UGFnZSA9IDE7DQogICAgICB0aGlzLnBhZ2UucGFnZVNpemUgPSB2YWw7DQogICAgICB0aGlzLmdldEdvb2RzTGlzdCgpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5Yib5bu65YaF5a6577yM6L2s6Lez6aG16Z2iDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovDQogICAgY3JlYXRlQXJ0aWNsZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogIi9BcnRpY2xlTWFuYWdlL0NyZWF0ZUFydGljbGUiLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIHRpdGxlXzogdGhpcy5yb3V0ZS5tZXRhLnRpdGxlLA0KICAgICAgICAgIHBhdGhfOiB0aGlzLnJvdXRlLnBhdGgNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnvJbovpHmoIfnrb4NCiAgICAgKiBAcGFyYW0ge09iamVjdH1pdGVtDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovDQogICAgZWRpdChpdGVtKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICJDcmVhdGVBcnRpY2xlIiwNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICB0aXRsZV86IHRoaXMucm91dGUubWV0YS50aXRsZSwNCiAgICAgICAgICBwYXRoXzogdGhpcy5yb3V0ZS5wYXRoLA0KICAgICAgICAgIGNvbnRlbnRJZDogaXRlbS5pZA0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWPmOabtOWGheWuueeKtuaAgQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUNCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8NCiAgICBzZXRTdGF0dXMoaXRlbSwgdHlwZSkgew0KICAgICAgdGhpcy4kY29uZmlybShg56Gu5a6a6KaBJHt0eXBlfeWGheWuueOAkCR7aXRlbS50aXRsZX3jgJHvvJ9gLCAi5o+Q56S6Iiwgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiDQogICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuaW50ZXJjZXB0b3JGbihhc3luYyAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdXBkYXRlU3RhdHVzKHsNCiAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGl0ZW0uaWQpLA0KICAgICAgICAgICAgICBzdGF0dXM6IHR5cGUgPT09ICLkuIvmnrYiID8gMiA6IDENCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgIT09IFNUQVRVU19DT0RFLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgZXJyb3JNc2codGhpcywgZGF0YS5tc2cpOw0KICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzdWNjZXNzTXNnKHRoaXMsICLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/container/articleManage","sourcesContent":["<template>\r\n  <el-container class=\"layout\">\r\n    <el-header height=\"50px\" class=\"layout-title-box\">\r\n      <div class=\"titles\">{{ route.meta.title }}</div>\r\n    </el-header>\r\n    <el-header\r\n      style=\"min-height: 42px; height: auto\"\r\n      class=\"layout-title-box layout-title-filter\"\r\n    >\r\n      <div class=\"filter\">\r\n        <div class=\"filter-item\">\r\n          <label>关键字</label>\r\n          <el-input\r\n            v-model=\"filter.keyword\"\r\n            clearable\r\n            placeholder=\"请输入标题或创建人搜索\"\r\n            style=\"width: 210px;\"\r\n          ></el-input>\r\n        </div>\r\n        <div class=\"filter-item\">\r\n          <label>内容分类</label>\r\n          <el-select v-model=\"filter.type\" style=\"width: 150px\" placeholder=\"请选择\">\r\n            <el-option\r\n              :title=\"item.name\"\r\n              v-for=\"item in contentTypeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"filter-item\">\r\n          <label>状态</label>\r\n          <el-select v-model=\"filter.status\" style=\"width: 150px\" placeholder=\"请选择\">\r\n            <el-option\r\n              :title=\"item.name\"\r\n              v-for=\"item in statusList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"filter-item btnItem\">\r\n          <el-button type=\"primary\" @click=\"filterData\">查询</el-button>\r\n        </div>\r\n        <div class=\"filter-item btnItem\">\r\n          <el-button type=\"info\" @click=\"restFilter\">重置</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"operation\">\r\n        <el-button\r\n          size=\"medium\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-refresh\"\r\n          @click=\"getGoodsList\"\r\n        >\r\n          刷新表格\r\n        </el-button>\r\n        <el-button\r\n          size=\"medium\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          @click=\"createArticle\"\r\n        >\r\n          新增内容\r\n        </el-button>\r\n      </div>\r\n    </el-header>\r\n    <el-main class=\"layout-content\">\r\n      <el-card shadow=\"never\" body-style=\"border: 0;\">\r\n        <el-table\r\n          v-loading=\"isLoading\"\r\n          min-height=\"500\"\r\n          header-row-class-name=\"goodsTable\"\r\n          :data=\"tableData\"\r\n          size=\"medium\"\r\n          style=\"width: 100%;\"\r\n        >\r\n          <el-table-column prop=\"title\" label=\"标题\">\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"tooltip\" :title=\"scope.row.title\">\r\n                {{ scope.row.title }}\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" prop=\"typeName\" label=\"分类\">\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"描述\">\r\n            <template slot-scope=\"scope\">\r\n              <div :title=\"scope.row.describe\" class=\"goods-group-box\">\r\n                {{ scope.row.describe }}\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"date\" align=\"center\" label=\"封面图\">\r\n            <template slot-scope=\"scope\">\r\n              <span>\r\n                <el-image\r\n                  style=\"width: 40px; height: 40px; vertical-align: middle\"\r\n                  :src=\"scope.row.cover\"\r\n                  title=\"点击预览\"\r\n                  fit=\"cover\"\r\n                  :preview-src-list=\"[scope.row.cover]\"\r\n                >\r\n                  <div slot=\"error\" class=\"image-slot\" title=\"暂无内容主图\">\r\n                    <img :src=\"noImg\" width=\"40\" />\r\n                  </div>\r\n                  <div slot=\"placeholder\" class=\"image-slot\">\r\n                    <font size=\"1\">load</font>\r\n                    <span class=\"el-icon-loading\"></span>\r\n                  </div>\r\n                </el-image>\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            column-key=\"createTime\"\r\n            align=\"center\"\r\n            label=\"创建时间\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              {{ setPulishTime(scope.row.createTime) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"状态\">\r\n            <template slot-scope=\"scope\">\r\n              <span :style=\"{ color: setFontColor(scope.row.statusName) }\">{{\r\n                scope.row.statusName\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"address\" label=\"操作\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" @click=\"edit(scope.row)\">编辑</el-button>\r\n              <el-button\r\n                type=\"text\"\r\n                v-if=\"scope.row.status === 1\"\r\n                @click=\"setStatus(scope.row, '下架')\"\r\n                >下架</el-button\r\n              >\r\n              <el-button type=\"text\" v-else @click=\"setStatus(scope.row, '上架')\"\r\n                >上架</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n      <div class=\"content-pagination\">\r\n        <el-pagination\r\n          background\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"page.currentPage\"\r\n          :page-sizes=\"pageSizes\"\r\n          :page-size=\"page.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"page.total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  successMsg,\r\n  jsonDeepClone,\r\n  STATUS_CODE,\r\n  errorMsg,\r\n  dataFormat,\r\n  regFenToYuan\r\n} from \"@/commonutils/common\";\r\nimport noImg from \"@/assets/images/noImg.jpg\";\r\nimport { getContentList, contentTypeList, updateStatus } from \"./request\";\r\n\r\nexport default {\r\n  name: \"index\",\r\n  data() {\r\n    return {\r\n      pageSizes: JSON.parse(process.env.VUE_APP_PAGE_SIZE),\r\n      noImg: noImg,\r\n      isLoading: false,\r\n      tableData: [],\r\n      filter: {\r\n        keyword: \"\",\r\n        status: 0,\r\n        type: 0\r\n      },\r\n      page: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      },\r\n      statusList: [\r\n        {\r\n          name: \"全部\",\r\n          id: 0\r\n        },\r\n        {\r\n          name: \"上架\",\r\n          id: 1\r\n        },\r\n        {\r\n          name: \"下架\",\r\n          id: 2\r\n        }\r\n      ],\r\n      contentTypeList: contentTypeList\r\n    };\r\n  },\r\n  computed: {\r\n    /**\r\n     * 路由信息\r\n     * @returns {Route} 路由信息\r\n     */\r\n    route() {\r\n      return this.$route;\r\n    },\r\n    /**\r\n     * 设置状态颜色\r\n     * @returns {String} color\r\n     */\r\n    setFontColor() {\r\n      return val => {\r\n        switch (val) {\r\n          case \"已上架\":\r\n            return \"#26AF61\";\r\n          case \"已下架\":\r\n            return \"#999\";\r\n          default:\r\n            return \"#333\";\r\n        }\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 根据条件查询内容\r\n     * @returns {void}\r\n     */\r\n    filterData() {\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = 10;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 分转元\r\n     * @param {Number} val\r\n     * @returns {Route} 元\r\n     */\r\n    setShowPrice(val) {\r\n      return regFenToYuan(val);\r\n    },\r\n    /**\r\n     * 时间戳格式化\r\n     * @param {Number} val\r\n     * @returns {string} yyyy-m-d hh:mm:ss\r\n     */\r\n    setPulishTime(val) {\r\n      if (!val || !parseInt(val)) {\r\n        return \"-\";\r\n      } else {\r\n        return dataFormat(val);\r\n      }\r\n    },\r\n    /**\r\n     * 重置筛选\r\n     * @returns {void}\r\n     */\r\n    restFilter() {\r\n      this.filter.keyword = \"\";\r\n      this.filter.type = 0;\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = 10;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 根据条件获取内容列表\r\n     * @returns {Promise<void>} 所有内容列表\r\n     */\r\n    async getGoodsList() {\r\n      this.isLoading = true;\r\n      const params = {\r\n        keyword: this.filter.keyword ? this.filter.keyword : undefined,\r\n        status: this.filter.status !== 0 ? this.filter.status : undefined,\r\n        type: this.filter.type !== 0 ? this.filter.type : undefined,\r\n        page: this.page.currentPage,\r\n        pageSize: this.page.pageSize\r\n      };\r\n      const data = await getContentList(params);\r\n      this.isLoading = false;\r\n      if (data.code !== STATUS_CODE.success) {\r\n        errorMsg(this, data.msg);\r\n        return;\r\n      }\r\n      this.tableData = jsonDeepClone(data.result.list);\r\n      this.page.total = data.result.count;\r\n    },\r\n    /**\r\n     * 翻页\r\n     * @param {Number} val\r\n     * @returns {void}\r\n     */\r\n    handleCurrentChange(val) {\r\n      this.page.currentPage = val;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 设置页数\r\n     * @param {Number} val\r\n     * @returns {void}\r\n     */\r\n    handleSizeChange(val) {\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = val;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 创建内容，转跳页面\r\n     * @returns {void}\r\n     */\r\n    createArticle() {\r\n      this.$router.push({\r\n        path: \"/ArticleManage/CreateArticle\",\r\n        query: {\r\n          title_: this.route.meta.title,\r\n          path_: this.route.path\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 编辑标签\r\n     * @param {Object}item\r\n     * @returns {void}\r\n     */\r\n    edit(item) {\r\n      this.$router.push({\r\n        name: \"CreateArticle\",\r\n        query: {\r\n          title_: this.route.meta.title,\r\n          path_: this.route.path,\r\n          contentId: item.id\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 变更内容状态\r\n     * @param {Object} item\r\n     * @param {String} type\r\n     * @returns {void}\r\n     */\r\n    setStatus(item, type) {\r\n      this.$confirm(`确定要${type}内容【${item.title}】？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(() => {\r\n          this.isLoading = true;\r\n          this.interceptorFn(async () => {\r\n            const data = await updateStatus({\r\n              id: parseInt(item.id),\r\n              status: type === \"下架\" ? 2 : 1\r\n            });\r\n            this.isLoading = false;\r\n            if (data.code !== STATUS_CODE.success) {\r\n              errorMsg(this, data.msg);\r\n              return;\r\n            }\r\n            successMsg(this, \"操作成功\");\r\n            this.getGoodsList();\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodsList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/*.layout-title-box {*/\r\n/*  margin-top: 10px;*/\r\n/*  .titles {*/\r\n/*    font-size: 20px;*/\r\n/*  }*/\r\n/*  display: flex;*/\r\n/*  justify-content: space-between;*/\r\n/*}*/\r\n.goods-group-box {\r\n  text-overflow: -o-ellipsis-lastline;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n.layout-title-box.layout-title-filter {\r\n  .filter {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    .filter-item {\r\n      margin-right: 40px;\r\n      &.btnItem {\r\n        margin-right: 20px;\r\n      }\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}