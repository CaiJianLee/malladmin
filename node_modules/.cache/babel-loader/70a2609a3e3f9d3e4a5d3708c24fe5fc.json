{"remainingRequest":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js!/Users/caijianli/Desktop/malladmin/node_modules/eslint-loader/index.js??ref--13-0!/Users/caijianli/Desktop/malladmin/src/commonutils/compressor.js","dependencies":[{"path":"/Users/caijianli/Desktop/malladmin/src/commonutils/compressor.js","mtime":1582099472000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKioNCiAqICBDcmVhdGVkIGJ5IHdhbmdBbGVuIG9uIDIwMTktMTItMTYgMTQ6MDYNCiAqLwppbXBvcnQgQ29tcHJlc3NvciBmcm9tICJjb21wcmVzc29yanMiOwovKioNCiAqIOWbvueJh+WOi+e8qQ0KICogQHBhcmFtIHtPYmplY3R9IGZpbGUNCiAqIEByZXR1cm5zIHtQcm9taXNlPHVua25vd24+fSBmaWxlDQogKiBAY29uc3RydWN0b3INCiAqLwoKZXhwb3J0IHZhciBDb21wcmVzc29ySW1nID0gZnVuY3Rpb24gQ29tcHJlc3NvckltZyhmaWxlKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIG5ldyBDb21wcmVzc29yKGZpbGUsIHsKICAgICAgcXVhbGl0eTogMC42LAogICAgICBjb252ZXJ0U2l6ZTogNTAwICogMTAyNCwKICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlcnIpIHsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn07"},{"version":3,"sources":["/Users/caijianli/Desktop/malladmin/src/commonutils/compressor.js"],"names":["Compressor","CompressorImg","file","Promise","resolve","reject","quality","convertSize","success","result","error","err"],"mappings":";;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,cAAvB;AAEA;;;;;;;AAMA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI,EAAI;AACnC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAIL,UAAJ,CAAeE,IAAf,EAAqB;AACnBI,MAAAA,OAAO,EAAE,GADU;AAEnBC,MAAAA,WAAW,EAAE,MAAM,IAFA;AAGnBC,MAAAA,OAHmB,mBAGXC,MAHW,EAGH;AACdL,QAAAA,OAAO,CAACK,MAAD,CAAP;AACD,OALkB;AAMnBC,MAAAA,KANmB,iBAMbC,GANa,EAMR;AACTN,QAAAA,MAAM,CAACM,GAAD,CAAN;AACD;AARkB,KAArB;AAUD,GAXM,CAAP;AAYD,CAbM","sourcesContent":["/**\r\n *  Created by wangAlen on 2019-12-16 14:06\r\n */\r\nimport Compressor from \"compressorjs\";\r\n\r\n/**\r\n * 图片压缩\r\n * @param {Object} file\r\n * @returns {Promise<unknown>} file\r\n * @constructor\r\n */\r\nexport const CompressorImg = file => {\r\n  return new Promise((resolve, reject) => {\r\n    new Compressor(file, {\r\n      quality: 0.6,\r\n      convertSize: 500 * 1024,\r\n      success(result) {\r\n        resolve(result);\r\n      },\r\n      error(err) {\r\n        reject(err);\r\n      }\r\n    });\r\n  });\r\n};\r\n"]}]}