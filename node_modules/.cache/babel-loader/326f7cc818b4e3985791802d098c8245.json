{"remainingRequest":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js!/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caijianli/Desktop/malladmin/src/views/container/goodsManage/allGoods/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caijianli/Desktop/malladmin/src/views/container/goodsManage/allGoods/index.vue","mtime":1582099472000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY2FpamlhbmxpL0Rlc2t0b3AvbWFsbGFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRHb29kc0xpc3QgYXMgX2dldEdvb2RzTGlzdCwgZGVsR29vZHMsIHVwZGF0ZVJhbmssIGdldFNrdXMsIHVwZGF0ZVNrdVN0b2NrIGFzIF91cGRhdGVTa3VTdG9jaywgcmVjb21tZW5kIH0gZnJvbSAiLi4vY3JlYXRlR29vZHMvY29udHJvbGxlci9yZXF1ZXN0IjsKaW1wb3J0IHsgc3VjY2Vzc01zZywganNvbkRlZXBDbG9uZSwgU1RBVFVTX0NPREUsIGVycm9yTXNnLCBkYXRhRm9ybWF0LCByZWdGZW5Ub1l1YW4gfSBmcm9tICJAL2NvbW1vbnV0aWxzL2NvbW1vbiI7CmltcG9ydCBub0ltZyBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvbm9JbWcuanBnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmRleCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY29tbWVuZFZpczogZmFsc2UsCiAgICAgIGlzU2hvd1NrdTogZmFsc2UsCiAgICAgIGlzVXBkYXRlU2t1OiBmYWxzZSwKICAgICAgc2t1Q291bnRMb2FkOiBmYWxzZSwKICAgICAgc2t1Q291bnREYXRhOiBbXSwKICAgICAgc2t1Q291bnRIZWFkOiBbXSwKICAgICAgc2t1Q291bnREaWFsOiBmYWxzZSwKICAgICAgcmVjb21tZW5kRm9ybTogewogICAgICAgIHJlY29tbWVuZFR5cGU6ICIiLAogICAgICAgIGJlZ2luX3RpbWU6ICIiLAogICAgICAgIGVuZF90aW1lOiAiIiwKICAgICAgICBvcmRlclRpbWU6IFtdLAogICAgICAgIHJhbms6ICIiCiAgICAgIH0sCiAgICAgIHJlY29tbWVuZExpc3Q6IFt7CiAgICAgICAgbmFtZTogIuaWsOWTgemmluWPkSIsCiAgICAgICAgaWQ6IDEKICAgICAgfSwgewogICAgICAgIG5hbWU6ICLniIbmrL7mjqjojZAiLAogICAgICAgIGlkOiAyCiAgICAgIH1dLAogICAgICBiYW5uZXJQaWNrZXJPcHRpb25zOiB7CiAgICAgICAgZGlzYWJsZWREYXRlOiBmdW5jdGlvbiBkaXNhYmxlZERhdGUodGltZSkgewogICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpIDwgRGF0ZS5ub3coKSAtIDguNjRlNzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVjb21tZW5kVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaOqOiNkOexu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIG9yZGVyVGltZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaOqOiNkOaXtumXtCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBwYWdlU2l6ZXM6IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuVlVFX0FQUF9QQUdFX1NJWkUpLAogICAgICBub0ltZzogbm9JbWcsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGZpbHRlcjogewogICAgICAgIHNlYXJjaEtleTogIiIsCiAgICAgICAgY2F0ZWdvcnk6IDAKICAgICAgfSwKICAgICAgcGFnZTogewogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICB0b3RhbDogMAogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IFsiZ29vZHNDYXRlZ29yeUxpc3QiXSwKICBjb21wdXRlZDogewogICAgLyoqDQogICAgICog6Lev55Sx5L+h5oGvDQogICAgICogQHJldHVybnMge1JvdXRlfSDot6/nlLHkv6Hmga8NCiAgICAgKi8KICAgIHJvdXRlOiBmdW5jdGlvbiByb3V0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnrZvpgInliJfooagNCiAgICAgKiBAcmV0dXJucyB7W119IOetm+mAieWIl+ihqA0KICAgICAqLwogICAgc3RhdHVzTGlzdDogZnVuY3Rpb24gc3RhdHVzTGlzdCgpIHsKICAgICAgdmFyIGZsaXRlckxpc3QgPSBbXTsKCiAgICAgIGlmICh0aGlzLnRhYmxlRGF0YS5sZW5ndGgpIHsKICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoZmxpdGVyTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsZSkgewogICAgICAgICAgICByZXR1cm4gZWxlLnRleHQgPT09IGl0ZW0uc3RhdHVzTmFtZTsKICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBmbGl0ZXJMaXN0LnB1c2goewogICAgICAgICAgICAgIHRleHQ6IGl0ZW0uc3RhdHVzTmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5zdGF0dXNOYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gZmxpdGVyTGlzdDsKICAgIH0sCgogICAgLyoqDQogICAgICog6K6+572u54q25oCB6aKc6ImyDQogICAgICogQHJldHVybnMge1N0cmluZ30gY29sb3INCiAgICAgKi8KICAgIHNldEZvbnRDb2xvcjogZnVuY3Rpb24gc2V0Rm9udENvbG9yKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHN3aXRjaCAodmFsKSB7CiAgICAgICAgICBjYXNlICLkuIrmnrbkuK0iOgogICAgICAgICAgICByZXR1cm4gIiMyNkFGNjEiOwoKICAgICAgICAgIGNhc2UgIuiNieeovyI6CiAgICAgICAgICAgIHJldHVybiAiIzk5OSI7CgogICAgICAgICAgY2FzZSAi5bey5Yig6ZmkIjoKICAgICAgICAgICAgcmV0dXJuICIjZmY3NzM2IjsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gIiMzMzMiOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dSZWNvbW1lbmRWaXM6IGZ1bmN0aW9uIHNob3dSZWNvbW1lbmRWaXMoaXRlbSkgewogICAgICBpZiAoaXRlbS5pZCkgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnJlY29tbWVuZEZvcm0sICJpZCIsIGl0ZW0uaWQpOwogICAgICAgIHRoaXMucmVjb21tZW5kVmlzID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVJlY29tbWVuZDogZnVuY3Rpb24gdXBkYXRlUmVjb21tZW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sicmVjb21tZW5kRm9ybSJdLnZhbGlkYXRlKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3JlZjIsIGNvZGUsIG1zZzsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb21tZW5kKHsKICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMucmVjb21tZW5kRm9ybS5pZCwKICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRUeXBlOiBfdGhpcy5yZWNvbW1lbmRGb3JtLnJlY29tbWVuZFR5cGUsCiAgICAgICAgICAgICAgICAgICAgYmVnaW5fdGltZTogX3RoaXMucmVjb21tZW5kRm9ybS5vcmRlclRpbWVbMF0gLyAxMDAwLAogICAgICAgICAgICAgICAgICAgIGVuZF90aW1lOiBfdGhpcy5yZWNvbW1lbmRGb3JtLm9yZGVyVGltZVsxXSAvIDEwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIGNvZGUgPSBfcmVmMi5jb2RlOwogICAgICAgICAgICAgICAgICBtc2cgPSBfcmVmMi5tc2c7CgogICAgICAgICAgICAgICAgICBpZiAoIShjb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZXJyb3JNc2coX3RoaXMsIG1zZyk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNc2coX3RoaXMsICLmjqjojZDmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgX3RoaXMucmVjb21tZW5kVmlzID0gZmFsc2U7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+u5pS55ZWG5ZOB5bqT5a2YDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovCiAgICB1cGRhdGVTa3VTdG9jazogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZVNrdVN0b2NrMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBsaXN0LCBfcmVmMywgY29kZSwgbXNnOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbGlzdCA9IHRoaXMuc2t1Q291bnREYXRhOwoKICAgICAgICAgICAgICAgIGlmICghbGlzdC5ldmVyeShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jaGFuZ2UgPT09IDA7CiAgICAgICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuc2t1Q291bnREaWFsID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGVTa3UgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF91cGRhdGVTa3VTdG9jayh7CiAgICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfcmVmMyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29kZSA9IF9yZWYzLmNvZGU7CiAgICAgICAgICAgICAgICBtc2cgPSBfcmVmMy5tc2c7CiAgICAgICAgICAgICAgICB0aGlzLmlzVXBkYXRlU2t1ID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKCEoY29kZSAhPT0gU1RBVFVTX0NPREUuc3VjY2VzcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZXJyb3JNc2codGhpcywgbXNnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHb29kc0xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRoaXMuc2t1Q291bnREaWFsID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICB0aGlzLnNrdUNvdW50RGF0YSA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5za3VDb3VudEhlYWQgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNrdVN0b2NrKCkgewogICAgICAgIHJldHVybiBfdXBkYXRlU2t1U3RvY2syLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVTa3VTdG9jazsKICAgIH0oKSwKCiAgICAvKioNCiAgICAgKiDojrflj5bllYblk4HlupPlrZgNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovCiAgICBzaG93R29vZHNTa3U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zaG93R29vZHNTa3UgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyh2YWwpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIF9yZWY0LCBjb2RlLCBtc2csIHJlc3VsdCwgc2t1LCBvcHRpb25zLCB0YWJsZUhlYWQsIHRhYmxlRGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuc2t1Q291bnREYXRhID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnNrdUNvdW50SGVhZCA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5za3VDb3VudERpYWwgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dTa3UgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNrdXMoewogICAgICAgICAgICAgICAgICBpZDogdmFsLmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3JlZjQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvZGUgPSBfcmVmNC5jb2RlOwogICAgICAgICAgICAgICAgbXNnID0gX3JlZjQubXNnOwogICAgICAgICAgICAgICAgcmVzdWx0ID0gX3JlZjQucmVzdWx0OwoKICAgICAgICAgICAgICAgIGlmICghKGNvZGUgIT09IFNUQVRVU19DT0RFLnN1Y2Nlc3MpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVycm9yTXNnKHRoaXMsIG1zZyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBza3UgPSByZXN1bHQuc2t1czsKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBza3VbMF0ub3B0aW9ucy5saXN0OwogICAgICAgICAgICAgICAgdGFibGVIZWFkID0gW107CiAgICAgICAgICAgICAgICB0YWJsZURhdGEgPSBbXTsKICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICB0YWJsZUhlYWQucHVzaChpdGVtLmtleSk7CiAgICAgICAgICAgICAgICB9KTsgLy8g6YGN5Y6Gc2t177yM55Sf5oiQ6KGo5aS05ZKM6KGo5qC85pWw5o2uCgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBza3UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICAgICAgICAgIGl0ZW0ub3B0aW9ucy5saXN0LmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgICAgICAgICAgICAgIG9ialtvcHRpb24ua2V5XSA9IG9wdGlvbi52YWx1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIG9ialsidG90YWxTdG9ja051bSJdID0gaXRlbS50b3RhbFN0b2NrTnVtOwogICAgICAgICAgICAgICAgICBvYmpbImNoYW5nZSJdID0gMDsKICAgICAgICAgICAgICAgICAgb2JqWyJpZCJdID0gaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgdGFibGVEYXRhLnB1c2gob2JqKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuc2t1Q291bnREYXRhID0gdGFibGVEYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczIuc2t1Q291bnRIZWFkID0gdGFibGVIZWFkOwogICAgICAgICAgICAgICAgICBfdGhpczIuaXNTaG93U2t1ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNob3dHb29kc1NrdShfeDIpIHsKICAgICAgICByZXR1cm4gX3Nob3dHb29kc1NrdS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2hvd0dvb2RzU2t1OwogICAgfSgpLAogICAgLy/moKHpqozmraPmlbTmlbAKICAgIGVkaXROYW1lOiBmdW5jdGlvbiBlZGl0TmFtZSh2YWwpIHsKICAgICAgaWYgKCEvXihbMF18WzEtOV1bMC05XSopJC8udGVzdCh2YWwpKSB7CiAgICAgICAgcmV0dXJuICLmjpLluo/mlbDlgLzkuI3lkIjms5XvvIzlv4XpobvkuLrmlbTmlbDlgLwiOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOe8lui+keWVhuWTgeaOkuW6jw0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtDQogICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGUNCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8KICAgIGNoYW5nZUdvb2RzUmFuazogZnVuY3Rpb24gY2hhbmdlR29vZHNSYW5rKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRwcm9tcHQoIuaOkuW6j+aVsOWAvO+8miIsICLnvJbovpHmjpLluo8iLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIGlucHV0UGF0dGVybjogL1xTLywKICAgICAgICBpbnB1dFZhbGlkYXRvcjogdGhpcy5lZGl0TmFtZSwKICAgICAgICBpbnB1dEVycm9yTWVzc2FnZTogIuaOkuW6j+aVsOWAvOS4jeiDveS4uuepuiIsCiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIGJlZm9yZUNsb3NlKGFjdGlvbiwgaW5zdGFuY2UsIGRvbmUpIHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICJjb25maXJtIikgewogICAgICAgICAgICBfdGhpczMuaW50ZXJjZXB0b3JGbigKICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlUmFuayh7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhbms6IGluc3RhbmNlLmlucHV0VmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEuY29kZSAhPT0gU1RBVFVTX0NPREUuc3VjY2VzcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyhfdGhpczMsIGRhdGEubXNnKTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgZG9uZSgpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5nZXRHb29kc0xpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgIH0pKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBzdWNjZXNzTXNnKF90aGlzMywgIue8lui+keaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgc2V0R29vZHNHcm91cDogZnVuY3Rpb24gc2V0R29vZHNHcm91cCh2YWwpIHsKICAgICAgdmFyIHN0ciA9ICIiOwoKICAgICAgaWYgKHZhbC5sZW5ndGgpIHsKICAgICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgc3RyICs9IGl0ZW0ubmFtZSArICIvIjsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmoLnmja7mnaHku7bmn6Xor6LllYblk4ENCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8KICAgIGZpbHRlckRhdGE6IGZ1bmN0aW9uIGZpbHRlckRhdGEoKSB7CiAgICAgIHRoaXMucGFnZS5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMucGFnZS5wYWdlU2l6ZSA9IDEwOwogICAgICB0aGlzLmdldEdvb2RzTGlzdCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliIbovazlhYMNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsDQogICAgICogQHJldHVybnMge1JvdXRlfSDlhYMNCiAgICAgKi8KICAgIHNldFNob3dQcmljZTogZnVuY3Rpb24gc2V0U2hvd1ByaWNlKHZhbCkgewogICAgICByZXR1cm4gcmVnRmVuVG9ZdWFuKHZhbCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaXtumXtOaIs+agvOW8j+WMlg0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWwNCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB5eXl5LW0tZCBoaDptbTpzcw0KICAgICAqLwogICAgc2V0UHVsaXNoVGltZTogZnVuY3Rpb24gc2V0UHVsaXNoVGltZSh2YWwpIHsKICAgICAgaWYgKCF2YWwgfHwgIXBhcnNlSW50KHZhbCkpIHsKICAgICAgICByZXR1cm4gIi0iOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBkYXRhRm9ybWF0KHZhbCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog6YeN572u562b6YCJDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovCiAgICByZXN0RmlsdGVyOiBmdW5jdGlvbiByZXN0RmlsdGVyKCkgewogICAgICB0aGlzLmZpbHRlci5zZWFyY2hLZXkgPSAiIjsKICAgICAgdGhpcy5maWx0ZXIuY2F0ZWdvcnkgPSAwOwogICAgICB0aGlzLnBhZ2UuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2UucGFnZVNpemUgPSAxMDsKICAgICAgdGhpcy5nZXRHb29kc0xpc3QoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5qC55o2u5p2h5Lu26I635Y+W5ZWG5ZOB5YiX6KGoDQogICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IOaJgOacieWVhuWTgeWIl+ihqA0KICAgICAqLwogICAgZ2V0R29vZHNMaXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0R29vZHNMaXN0MiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBwYXJhbXMsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5maWx0ZXIuc2VhcmNoS2V5LAogICAgICAgICAgICAgICAgICBjbGFzc0lkOiBwYXJzZUludCh0aGlzLmZpbHRlci5jYXRlZ29yeSksCiAgICAgICAgICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZS5jdXJyZW50UGFnZSwKICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZS5wYWdlU2l6ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0R29vZHNMaXN0KHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKCEoZGF0YS5jb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVycm9yTXNnKHRoaXMsIGRhdGEubXNnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBqc29uRGVlcENsb25lKGRhdGEucmVzdWx0Lmxpc3QpOwogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpdGVtLnNob3dQcmljZSA9IHBhcnNlSW50KGl0ZW0uc2hvd1ByaWNlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5wYWdlLnRvdGFsID0gZGF0YS5yZXN1bHQuY291bnQ7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRHb29kc0xpc3QoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRHb29kc0xpc3QyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRHb29kc0xpc3Q7CiAgICB9KCksCgogICAgLyoqDQogICAgICog6L+H5ruk54q25oCB5YiXDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlDQogICAgICogQHBhcmFtIHtPYmplY3R9IHJvdw0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb2x1bW4NCiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QNCiAgICAgKi8KICAgIGZpbHRlclRhZzogZnVuY3Rpb24gZmlsdGVyVGFnKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICB2YXIgcHJvcGVydHkgPSBjb2x1bW5bInByb3BlcnR5Il07CiAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZTsKICAgIH0sCgogICAgLyoqDQogICAgICog57+76aG1DQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbA0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqLwogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLmdldEdvb2RzTGlzdCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDorr7nva7pobXmlbANCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICovCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2UuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2UucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIm+W7uuWVhuWTge+8jOi9rOi3s+mhtemdog0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqLwogICAgYWRkR29vZHM6IGZ1bmN0aW9uIGFkZEdvb2RzKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImNyZWF0ZUdvb2RzIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgdGl0bGVfOiB0aGlzLnJvdXRlLm1ldGEudGl0bGUsCiAgICAgICAgICBwYXRoXzogdGhpcy5yb3V0ZS5wYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog57yW6L6R5qCH562+DQogICAgICogQHBhcmFtIHtPYmplY3R9aXRlbQ0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqLwogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiY3JlYXRlR29vZHMiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICB0aXRsZV86IHRoaXMucm91dGUubWV0YS50aXRsZSwKICAgICAgICAgIHBhdGhfOiB0aGlzLnJvdXRlLnBhdGgsCiAgICAgICAgICBnb29kc0lkOiBpdGVtLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5ZWG5ZOB54q25oCBDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1cw0KICAgICAqIEBkZXNjcmlwdGlvbiDov5Tlm5465ZWG5ZOB54q25oCB5ZCN56ewDQogICAgICogQHJldHVybnMge1N0cmluZ30gc3RhdHVzDQogICAgICovCiAgICBzZXRTdGF0dXNOYW1lOiBmdW5jdGlvbiBzZXRTdGF0dXNOYW1lKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzTmFtZTsKCiAgICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19DT0RFLmdvb2RzRGVsZXRlKSB7CiAgICAgICAgc3RhdHVzTmFtZSA9ICLliKDpmaQiOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0NPREUuZ29vZHNSZWxlYXNlKSB7CiAgICAgICAgc3RhdHVzTmFtZSA9ICLkuIrmnrYiOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0NPREUuZ29vZHNMb3dlcikgewogICAgICAgIHN0YXR1c05hbWUgPSAi5LiL5p62IjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0dXNOYW1lID0gIuacquefpeeKtuaAgSI7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGF0dXNOYW1lOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkv67mlLnllYblk4HnirbmgIENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXMNCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8KICAgIHVwZGF0ZVN0YXR1czogZnVuY3Rpb24gdXBkYXRlU3RhdHVzKGl0ZW0sIHN0YXR1cykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICghc3RhdHVzIHx8ICFpdGVtKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcigi5L2N572u6ZSZ6K+v77yaIXN0YXR1cyB8fCAhaXRlbSIpOwogICAgICB9CgogICAgICB2YXIgc3RhdHVzTmFtZSA9IHRoaXMuc2V0U3RhdHVzTmFtZShzdGF0dXMpOwogICAgICB0aGlzLiRjb25maXJtKCJcdTc4NkVcdTVCOUFcdTg5ODEiLmNvbmNhdChzdGF0dXNOYW1lLCAiXHU1NTQ2XHU1NEMxXHUzMDEwIikuY29uY2F0KGl0ZW0ubmFtZSwgIlx1MzAxMVx1RkYxRiIpLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuaXNMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgX3RoaXM0LmludGVyY2VwdG9yRm4oCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gZGVsR29vZHMoewogICAgICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChpdGVtLmlkKSwKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoZGF0YS5jb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZXJyb3JNc2coX3RoaXM0LCBkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNc2coX3RoaXM0LCAi5pON5L2c5oiQ5YqfIik7CgogICAgICAgICAgICAgICAgICBfdGhpczQuZ2V0R29vZHNMaXN0KCk7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgfSkpKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+PA,SACA,YAAA,IAAA,aADA,EAEA,QAFA,EAGA,UAHA,EAIA,OAJA,EAKA,cAAA,IAAA,eALA,EAMA,SANA;AAQA,SACA,UADA,EAEA,aAFA,EAGA,WAHA,EAIA,QAJA,EAKA,UALA,EAMA,YANA,QAOA,sBAPA;AAQA,OAAA,KAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,YAAA,EAAA,KAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,EANA;AAOA,MAAA,YAAA,EAAA,KAPA;AAQA,MAAA,aAAA,EAAA;AACA,QAAA,aAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,SAAA,EAAA,EAJA;AAKA,QAAA,IAAA,EAAA;AALA,OARA;AAeA,MAAA,aAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,EAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,EAAA,EAAA;AAFA,OALA,CAfA;AAyBA,MAAA,mBAAA,EAAA;AACA,QAAA,YADA,wBACA,IADA,EACA;AACA,iBAAA,IAAA,CAAA,OAAA,KAAA,IAAA,CAAA,GAAA,KAAA,MAAA;AACA;AAHA,OAzBA;AA8BA,MAAA,KAAA,EAAA;AACA,QAAA,aAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAJA,OA9BA;AAsCA,MAAA,SAAA,EAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,CAtCA;AAuCA,MAAA,KAAA,EAAA,KAvCA;AAwCA,MAAA,SAAA,EAAA,KAxCA;AAyCA,MAAA,SAAA,EAAA,EAzCA;AA0CA,MAAA,MAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OA1CA;AA8CA,MAAA,IAAA,EAAA;AACA,QAAA,WAAA,EAAA,CADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA;AA9CA,KAAA;AAoDA,GAvDA;AAwDA,EAAA,KAAA,EAAA,CAAA,mBAAA,CAxDA;AAyDA,EAAA,QAAA,EAAA;AACA;;;;AAIA,IAAA,KALA,mBAKA;AACA,aAAA,KAAA,MAAA;AACA,KAPA;;AAQA;;;;AAIA,IAAA,UAZA,wBAYA;AACA,UAAA,UAAA,GAAA,EAAA;;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,EAAA;AACA,aAAA,SAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,cACA,UAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,mBAAA,GAAA,CAAA,IAAA,KAAA,IAAA,CAAA,UAAA;AAAA,WAAA,EAAA,MAAA,KAAA,CADA,EAEA;AACA,YAAA,UAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,IAAA,CAAA,UADA;AAEA,cAAA,KAAA,EAAA,IAAA,CAAA;AAFA,aAAA;AAIA;AACA,SATA;AAUA;;AACA,aAAA,UAAA;AACA,KA3BA;;AA4BA;;;;AAIA,IAAA,YAhCA,0BAgCA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA;AACA,eAAA,KAAA;AACA,mBAAA,SAAA;;AACA,eAAA,IAAA;AACA,mBAAA,MAAA;;AACA,eAAA,KAAA;AACA,mBAAA,SAAA;;AACA;AACA,mBAAA,MAAA;AARA;AAUA,OAXA;AAYA;AA7CA,GAzDA;AAwGA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,IADA,EACA;AACA,UAAA,IAAA,CAAA,EAAA,EAAA;AACA,aAAA,IAAA,CAAA,KAAA,aAAA,EAAA,IAAA,EAAA,IAAA,CAAA,EAAA;AACA,aAAA,YAAA,GAAA,IAAA;AACA;AACA,KANA;AAOA,IAAA,eAPA,6BAOA;AAAA;;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAA,iBAAA,KAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,yBAIA,SAAA,CAAA;AACA,oBAAA,EAAA,EAAA,KAAA,CAAA,aAAA,CAAA,EADA;AAEA,oBAAA,aAAA,EAAA,KAAA,CAAA,aAAA,CAAA,aAFA;AAGA,oBAAA,UAAA,EAAA,KAAA,CAAA,aAAA,CAAA,SAAA,CAAA,CAAA,IAAA,IAHA;AAIA,oBAAA,QAAA,EAAA,KAAA,CAAA,aAAA,CAAA,SAAA,CAAA,CAAA,IAAA;AAJA,mBAAA,CAJA;;AAAA;AAAA;AAIA,kBAAA,IAJA,SAIA,IAJA;AAIA,kBAAA,GAJA,SAIA,GAJA;;AAAA,wBAUA,IAAA,KAAA,WAAA,CAAA,OAVA;AAAA;AAAA;AAAA;;AAWA,kBAAA,QAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AAXA;;AAAA;AAcA,kBAAA,UAAA,CAAA,KAAA,EAAA,MAAA,CAAA;AACA,kBAAA,KAAA,CAAA,YAAA,GAAA,KAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAiBA,KAzBA;;AA0BA;;;;AAIA,IAAA,cA9BA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA+BA,gBAAA,IA/BA,GA+BA,KAAA,YA/BA;;AAAA,qBAiCA,IAAA,CAAA,KAAA,CAAA,UAAA,IAAA,EAAA;AACA,yBAAA,IAAA,CAAA,MAAA,KAAA,CAAA;AACA,iBAFA,CAjCA;AAAA;AAAA;AAAA;;AAqCA,qBAAA,YAAA,GAAA,KAAA;AArCA;AAAA;;AAAA;AAuCA,qBAAA,WAAA,GAAA,IAAA;AAvCA;AAAA,uBAwCA,eAAA,CAAA;AACA,kBAAA,IAAA,EAAA;AADA,iBAAA,CAxCA;;AAAA;AAAA;AAwCA,gBAAA,IAxCA,SAwCA,IAxCA;AAwCA,gBAAA,GAxCA,SAwCA,GAxCA;AA2CA,qBAAA,WAAA,GAAA,KAAA;;AA3CA,sBA4CA,IAAA,KAAA,WAAA,CAAA,OA5CA;AAAA;AAAA;AAAA;;AA6CA,gBAAA,QAAA,CAAA,IAAA,EAAA,GAAA,CAAA;AA7CA;;AAAA;AAAA;AAAA,uBAgDA,KAAA,YAAA,EAhDA;;AAAA;AAiDA,qBAAA,YAAA,GAAA,KAAA;;AAjDA;AAmDA,qBAAA,YAAA,GAAA,EAAA;AACA,qBAAA,YAAA,GAAA,EAAA;;AApDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAsDA;;;;;AAKA,IAAA,YA3DA;AAAA;AAAA;AAAA,gDA2DA,GA3DA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AA4DA,qBAAA,YAAA,GAAA,EAAA;AACA,qBAAA,YAAA,GAAA,EAAA;AACA,qBAAA,YAAA,GAAA,IAAA;AACA,qBAAA,SAAA,GAAA,IAAA;AA/DA;AAAA,uBAgEA,OAAA,CAAA;AACA,kBAAA,EAAA,EAAA,GAAA,CAAA;AADA,iBAAA,CAhEA;;AAAA;AAAA;AAgEA,gBAAA,IAhEA,SAgEA,IAhEA;AAgEA,gBAAA,GAhEA,SAgEA,GAhEA;AAgEA,gBAAA,MAhEA,SAgEA,MAhEA;;AAAA,sBAmEA,IAAA,KAAA,WAAA,CAAA,OAnEA;AAAA;AAAA;AAAA;;AAoEA,gBAAA,QAAA,CAAA,IAAA,EAAA,GAAA,CAAA;AApEA;;AAAA;AAuEA,gBAAA,GAvEA,GAuEA,MAAA,CAAA,IAvEA;AAwEA,gBAAA,OAxEA,GAwEA,GAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,IAxEA;AAyEA,gBAAA,SAzEA,GAyEA,EAzEA;AA0EA,gBAAA,SA1EA,GA0EA,EA1EA;AA2EA,gBAAA,OAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,iBAFA,EA3EA,CA8EA;;AA9EA;AAAA,uBA+EA,GAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,sBAAA,GAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,oBAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,GAAA,MAAA,CAAA,KAAA;AACA,mBAFA;AAGA,kBAAA,GAAA,CAAA,eAAA,CAAA,GAAA,IAAA,CAAA,aAAA;AACA,kBAAA,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA;AACA,kBAAA,GAAA,CAAA,IAAA,CAAA,GAAA,IAAA,CAAA,EAAA;AACA,kBAAA,SAAA,CAAA,IAAA,CAAA,GAAA;AACA,iBATA,CA/EA;;AAAA;AAyFA,qBAAA,SAAA,CAAA,YAAA;AACA,kBAAA,MAAA,CAAA,YAAA,GAAA,SAAA;AACA,kBAAA,MAAA,CAAA,YAAA,GAAA,SAAA;AACA,kBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,iBAJA;;AAzFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA+FA;AACA,IAAA,QAhGA,oBAgGA,GAhGA,EAgGA;AACA,UAAA,CAAA,sBAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,eAAA,gBAAA;AACA;AACA,KApGA;;AAqGA;;;;;;AAMA,IAAA,eA3GA,2BA2GA,IA3GA,EA2GA;AAAA;;AACA,WAAA,OAAA,CAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,YAAA,EAAA,IAHA;AAIA,QAAA,cAAA,EAAA,KAAA,QAJA;AAKA,QAAA,iBAAA,EAAA,UALA;AAMA,QAAA,WAAA,EAAA,qBAAA,MAAA,EAAA,QAAA,EAAA,IAAA,EAAA;AACA,cAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,MAAA,CAAA,aAAA;AAAA;AAAA;AAAA;AAAA,oCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,sBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AADA;AAAA,6BAEA,UAAA,CAAA;AACA,wBAAA,IAAA,EAAA,QAAA,CAAA,UADA;AAEA,wBAAA,EAAA,EAAA,IAAA,CAAA;AAFA,uBAAA,CAFA;;AAAA;AAEA,sBAAA,IAFA;AAMA,sBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AANA,4BAOA,IAAA,CAAA,IAAA,KAAA,WAAA,CAAA,OAPA;AAAA;AAAA;AAAA;;AAQA,sBAAA,QAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AARA;;AAAA;AAWA,sBAAA,IAAA;;AACA,sBAAA,MAAA,CAAA,YAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAA;AAcA,WAfA,MAeA;AACA,YAAA,IAAA;AACA;AACA;AAzBA,OAAA,EA2BA,IA3BA,CA2BA,YAAA;AACA,QAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA;AACA,OA7BA,EA8BA,KA9BA,CA8BA,YAAA,CAAA,CA9BA;AA+BA,KA3IA;AA4IA,IAAA,aA5IA,yBA4IA,GA5IA,EA4IA;AACA,UAAA,GAAA,GAAA,EAAA;;AACA,UAAA,GAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,GAAA,IAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,SAFA;AAGA;;AACA,aAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,KApJA;;AAqJA;;;;AAIA,IAAA,UAzJA,wBAyJA;AACA,WAAA,IAAA,CAAA,WAAA,GAAA,CAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,WAAA,YAAA;AACA,KA7JA;;AA8JA;;;;;AAKA,IAAA,YAnKA,wBAmKA,GAnKA,EAmKA;AACA,aAAA,YAAA,CAAA,GAAA,CAAA;AACA,KArKA;;AAsKA;;;;;AAKA,IAAA,aA3KA,yBA2KA,GA3KA,EA2KA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,eAAA,GAAA;AACA,OAFA,MAEA;AACA,eAAA,UAAA,CAAA,GAAA,CAAA;AACA;AACA,KAjLA;;AAkLA;;;;AAIA,IAAA,UAtLA,wBAsLA;AACA,WAAA,MAAA,CAAA,SAAA,GAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,GAAA,CAAA;AACA,WAAA,IAAA,CAAA,WAAA,GAAA,CAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,WAAA,YAAA;AACA,KA5LA;;AA6LA;;;;AAIA,IAAA,YAjMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkMA,qBAAA,SAAA,GAAA,IAAA;AACA,gBAAA,MAnMA,GAmMA;AACA,kBAAA,IAAA,EAAA,KAAA,MAAA,CAAA,SADA;AAEA,kBAAA,OAAA,EAAA,QAAA,CAAA,KAAA,MAAA,CAAA,QAAA,CAFA;AAGA,kBAAA,IAAA,EAAA,KAAA,IAAA,CAAA,WAHA;AAIA,kBAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAJA,iBAnMA;AAAA;AAAA,uBAyMA,aAAA,CAAA,MAAA,CAzMA;;AAAA;AAyMA,gBAAA,IAzMA;AA0MA,qBAAA,SAAA,GAAA,KAAA;;AA1MA,sBA2MA,IAAA,CAAA,IAAA,KAAA,WAAA,CAAA,OA3MA;AAAA;AAAA;AAAA;;AA4MA,gBAAA,QAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AA5MA;;AAAA;AA+MA,qBAAA,SAAA,GAAA,aAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,qBAAA,SAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA,iBAFA;AAGA,qBAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,MAAA,CAAA,KAAA;;AAnNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAqNA;;;;;;;AAOA,IAAA,SA5NA,qBA4NA,KA5NA,EA4NA,GA5NA,EA4NA,MA5NA,EA4NA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,UAAA,CAAA;AACA,aAAA,GAAA,CAAA,QAAA,CAAA,KAAA,KAAA;AACA,KA/NA;;AAgOA;;;;;AAKA,IAAA,mBArOA,+BAqOA,GArOA,EAqOA;AACA,WAAA,IAAA,CAAA,WAAA,GAAA,GAAA;AACA,WAAA,YAAA;AACA,KAxOA;;AAyOA;;;;;AAKA,IAAA,gBA9OA,4BA8OA,GA9OA,EA8OA;AACA,WAAA,IAAA,CAAA,WAAA,GAAA,CAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,GAAA;AACA,WAAA,YAAA;AACA,KAlPA;;AAmPA;;;;AAIA,IAAA,QAvPA,sBAuPA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,MAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAAA,CAAA;AAFA;AAFA,OAAA;AAOA,KA/PA;;AAgQA;;;;;AAKA,IAAA,IArQA,gBAqQA,IArQA,EAqQA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,MAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAAA,CAAA,IAFA;AAGA,UAAA,OAAA,EAAA,IAAA,CAAA;AAHA;AAFA,OAAA;AAQA,KA9QA;;AA+QA;;;;;;AAMA,IAAA,aArRA,yBAqRA,MArRA,EAqRA;AACA,UAAA,UAAA;;AACA,UAAA,MAAA,KAAA,WAAA,CAAA,WAAA,EAAA;AACA,QAAA,UAAA,GAAA,IAAA;AACA,OAFA,MAEA,IAAA,MAAA,KAAA,WAAA,CAAA,YAAA,EAAA;AACA,QAAA,UAAA,GAAA,IAAA;AACA,OAFA,MAEA,IAAA,MAAA,KAAA,WAAA,CAAA,UAAA,EAAA;AACA,QAAA,UAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,QAAA,UAAA,GAAA,MAAA;AACA;;AACA,aAAA,UAAA;AACA,KAjSA;;AAkSA;;;;;;AAMA,IAAA,YAxSA,wBAwSA,IAxSA,EAwSA,MAxSA,EAwSA;AAAA;;AACA,UAAA,CAAA,MAAA,IAAA,CAAA,IAAA,EAAA;AACA,eAAA,IAAA,KAAA,CAAA,uBAAA,CAAA;AACA;;AACA,UAAA,UAAA,GAAA,KAAA,aAAA,CAAA,MAAA,CAAA;AACA,WAAA,QAAA,6BAAA,UAAA,+BAAA,IAAA,CAAA,IAAA,mBAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA;AAFA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AACA,QAAA,MAAA,CAAA,aAAA;AAAA;AAAA;AAAA;AAAA,gCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACA,QAAA,CAAA;AACA,oBAAA,EAAA,EAAA,QAAA,CAAA,IAAA,CAAA,EAAA,CADA;AAEA,oBAAA,MAAA,EAAA;AAFA,mBAAA,CADA;;AAAA;AACA,kBAAA,IADA;AAKA,kBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AALA,wBAMA,IAAA,CAAA,IAAA,KAAA,WAAA,CAAA,OANA;AAAA;AAAA;AAAA;;AAOA,kBAAA,QAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AAPA;;AAAA;AAUA,kBAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA;;AACA,kBAAA,MAAA,CAAA,YAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;AAaA,OAnBA,EAoBA,KApBA,CAoBA,YAAA,CAAA,CApBA;AAqBA;AAlUA,GAxGA;AA4aA,EAAA,OA5aA,qBA4aA;AACA,SAAA,YAAA;AACA;AA9aA,CAAA","sourcesContent":["<template>\r\n  <el-container class=\"layout config-group-container\">\r\n    <el-header\r\n      style=\"min-height: 42px; height: auto\"\r\n      class=\"layout-title-box layout-title-filter\"\r\n    >\r\n      <div class=\"filter\">\r\n        <div class=\"filter-item\">\r\n          <label>商品名称</label>\r\n          <el-input\r\n            v-model=\"filter.searchKey\"\r\n            clearable\r\n            placeholder=\"请输入关键字搜索\"\r\n            style=\"width: 210px;\"\r\n          ></el-input>\r\n        </div>\r\n        <div class=\"filter-item\">\r\n          <label>商品分类</label>\r\n          <el-cascader\r\n            :append-to-body=\"false\"\r\n            style=\"width: 210px;\"\r\n            filterable\r\n            clearable\r\n            ref=\"getCategory\"\r\n            v-model=\"filter.category\"\r\n            :props=\"{ value: 'id', label: 'name', emitPath: false }\"\r\n            :options=\"goodsCategoryList\"\r\n            :show-all-levels=\"false\"\r\n            placeholder=\"请选择商品分类\"\r\n          >\r\n            <template slot-scope=\"{ node, data }\">\r\n              <span>{{ data.name }}</span>\r\n              <span v-if=\"!node.isLeaf\"> ({{ data.children.length }}) </span>\r\n            </template>\r\n          </el-cascader>\r\n        </div>\r\n        <div class=\"filter-item btnItem\">\r\n          <el-button type=\"primary\" @click=\"filterData\">查询</el-button>\r\n        </div>\r\n        <div class=\"filter-item btnItem\">\r\n          <el-button type=\"info\" @click=\"restFilter\">重置</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"operation\">\r\n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"getGoodsList\">刷新表格</el-button>\r\n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addGoods\">发布商品</el-button>\r\n      </div>\r\n    </el-header>\r\n    <el-main class=\"layout-content\">\r\n      <el-card shadow=\"never\" body-style=\"border: 0;\">\r\n        <el-table\r\n          v-loading=\"isLoading\"\r\n          min-height=\"500\"\r\n          header-row-class-name=\"goodsTable\"\r\n          :data=\"tableData\"\r\n          size=\"medium\"\r\n          style=\"width: 100%;\"\r\n        >\r\n          <el-table-column prop=\"name\" min-width=\"150\" label=\"商品名称\">\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"goodsTit-box\">\r\n                <el-image\r\n                  style=\"width: 40px; height: 40px; vertical-align: middle\"\r\n                  :src=\"scope.row.firstPicture\"\r\n                  title=\"点击预览\"\r\n                  fit=\"cover\"\r\n                  :preview-src-list=\"[scope.row.firstPicture]\"\r\n                >\r\n                  <div slot=\"error\" class=\"image-slot\" title=\"暂无商品主图\">\r\n                    <img :src=\"noImg\" width=\"40\" height=\"40\" />\r\n                  </div>\r\n                  <div slot=\"placeholder\" class=\"image-slot\">\r\n                    <font size=\"1\">load</font>\r\n                    <span class=\"el-icon-loading\"></span>\r\n                  </div>\r\n                </el-image>\r\n                <div class=\"tooltip\" :title=\"scope.row.name\">{{ scope.row.name }}</div>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" width=\"150\" prop=\"class.name\" label=\"商品分类\"></el-table-column>\r\n          <el-table-column align=\"center\" label=\"商品标签\">\r\n            <template slot-scope=\"scope\">\r\n              <template v-if=\"scope.row.tags.length\">\r\n                <div\r\n                  :title=\"setGoodsGroup(scope.row.tags)\"\r\n                  class=\"goods-group-box\"\r\n                >{{ setGoodsGroup(scope.row.tags) }}</div>\r\n              </template>\r\n              <template v-else>-</template>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column column-key=\"publishTime\" width=\"210\" align=\"center\" label=\"发布时间\">\r\n            <template slot-scope=\"scope\">{{ setPulishTime(scope.row.publishTime) }}</template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"showPrice\" width=\"130\" sortable label=\"显示价(￥)\">\r\n            <template slot-scope=\"scope\">{{ setShowPrice(scope.row.showPrice) }}</template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"totalStockNum\" width=\"100\" sortable label=\"总库存\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.totalStockNum}}\r\n              <el-button type=\"text\" @click=\"showGoodsSku(scope.row)\">修改库存</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"rank\" width=\"100\" sortable align=\"center\" label=\"排序\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.rank}}\r\n              <el-button type=\"text\" @click=\"changeGoodsRank(scope.row)\">修改排序</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"salesNum\" width=\"120\" sortable align=\"center\" label=\"累计销量\"></el-table-column>\r\n          <el-table-column\r\n            width=\"100\"\r\n            align=\"center\"\r\n            :filters=\"statusList\"\r\n            :filter-method=\"filterTag\"\r\n            filter-placement=\"bottom-start\"\r\n            column-key=\"statusName\"\r\n            label=\"状态\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <span :style=\"{ color: setFontColor(scope.row.statusName) }\">\r\n                {{ scope.row.statusName }}\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"address\" fixed=\"right\" label=\"操作\" width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" @click=\"edit(scope.row)\">编辑</el-button>\r\n              <el-button\r\n                v-if=\"scope.row.status === 4\"\r\n                type=\"text\"\r\n                @click=\"updateStatus(scope.row, 3)\"\r\n                >上架</el-button\r\n              >\r\n              <el-button\r\n                v-else-if=\"scope.row.status === 3\"\r\n                type=\"text\"\r\n                @click=\"updateStatus(scope.row, 4)\"\r\n                >下架</el-button\r\n              >\r\n              <el-button\r\n                type=\"text\"\r\n                @click=\"showRecommendVis(scope.row)\"\r\n              >推荐\r\n              </el-button>\r\n              <el-button type=\"text\" @click=\"updateStatus(scope.row, 5)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n      <div class=\"content-pagination\">\r\n        <el-pagination\r\n          background\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"page.currentPage\"\r\n          :page-sizes=\"pageSizes\"\r\n          :page-size=\"page.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"page.total\"\r\n        ></el-pagination>\r\n      </div>\r\n    </el-main>\r\n    <el-dialog\r\n      title=\"修改商品库存\"\r\n      width=\"750px \"\r\n      destroy-on-close\r\n      :close-on-click-modal=\"false\"\r\n      class=\"add-good-dialog\"\r\n      :visible.sync=\"skuCountDial\"\r\n    >\r\n      <div class=\"good-main1\" v-loading=\"skuCountLoad\">\r\n        <el-table v-loading=\"isShowSku\" :data=\"skuCountData\">\r\n          <el-table-column\r\n            v-for=\"item in skuCountHead\"\r\n            :key=\"item.id\"\r\n            property=\"date\"\r\n            :label=\"item\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row[item] }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column property=\"totalStockNum\" label=\"当前库存\"></el-table-column>\r\n          <el-table-column property=\"change\" label=\"库存增减\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input-number v-model=\"scope.row.change\" :step=\"1\" step-strictly></el-input-number>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-alert show-icon title=\"点击加减号来增减库存；增减库存为负数：则减少当前库存\" type=\"info\"> </el-alert>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"skuCountDial = false\">取 消</el-button>\r\n        <el-button @click=\"updateSkuStock\" :disabled=\"isShowSku\" :loading=\"isUpdateSku\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"推荐商品\"\r\n      width=\"600px\"\r\n      destroy-on-close\r\n      :close-on-click-modal=\"false\"\r\n      class=\"add-good-dialog\"\r\n      :visible.sync=\"recommendVis\"\r\n    >\r\n      <div class=\"good-main1\">\r\n        <el-form\r\n          :model=\"recommendForm\"\r\n          size=\"medium\"\r\n          :rules=\"rules\"\r\n          ref=\"recommendForm\"\r\n          label-width=\"80px\"\r\n          class=\"demo-ruleForm\"\r\n        >\r\n          <el-form-item label=\"推荐类型\" prop=\"recommendType\">\r\n            <el-select\r\n              v-model=\"recommendForm.recommendType\"\r\n              placeholder=\"请选择\"\r\n            >\r\n              <el-option\r\n                :title=\"item.name\"\r\n                style=\"width: 217px\"\r\n                v-for=\"item in recommendList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"推荐时间\" prop=\"orderTime\">\r\n            <el-date-picker\r\n              :editable=\"false\"\r\n              v-model=\"recommendForm.orderTime\"\r\n              :picker-options=\"bannerPickerOptions\"\r\n              type=\"datetimerange\"\r\n              unlink-panels\r\n              value-format=\"timestamp\"\r\n              range-separator=\"至\"\r\n              :default-time=\"['12:00:00', '12:00:00']\"\r\n              start-placeholder=\"开始时间\"\r\n              end-placeholder=\"结束时间\"\r\n            ></el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"recommendVis = false\">取 消</el-button>\r\n        <el-button @click=\"updateRecommend\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getGoodsList,\r\n  delGoods,\r\n  updateRank,\r\n  getSkus,\r\n  updateSkuStock,\r\n  recommend\r\n} from \"../createGoods/controller/request\";\r\nimport {\r\n  successMsg,\r\n  jsonDeepClone,\r\n  STATUS_CODE,\r\n  errorMsg,\r\n  dataFormat,\r\n  regFenToYuan\r\n} from \"@/commonutils/common\";\r\nimport noImg from \"@/assets/images/noImg.jpg\";\r\n\r\nexport default {\r\n  name: \"index\",\r\n  data() {\r\n    return {\r\n      recommendVis: false,\r\n      isShowSku: false,\r\n      isUpdateSku: false,\r\n      skuCountLoad: false,\r\n      skuCountData: [],\r\n      skuCountHead: [],\r\n      skuCountDial: false,\r\n      recommendForm: {\r\n        recommendType: \"\",\r\n        begin_time: \"\",\r\n        end_time: \"\",\r\n        orderTime: [],\r\n        rank: \"\"\r\n      },\r\n      recommendList: [\r\n        {\r\n          name: \"新品首发\",\r\n          id: 1\r\n        },\r\n        {\r\n          name: \"爆款推荐\",\r\n          id: 2\r\n        }\r\n      ],\r\n      bannerPickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() < Date.now() - 8.64e7;\r\n        }\r\n      },\r\n      rules: {\r\n        recommendType: [\r\n          { required: true, message: \"请选择推荐类型\", trigger: \"change\" }\r\n        ],\r\n        orderTime: [\r\n          { required: true, message: \"请选择推荐时间\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      pageSizes: JSON.parse(process.env.VUE_APP_PAGE_SIZE),\r\n      noImg: noImg,\r\n      isLoading: false,\r\n      tableData: [],\r\n      filter: {\r\n        searchKey: \"\",\r\n        category: 0\r\n      },\r\n      page: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      }\r\n    };\r\n  },\r\n  props: [\"goodsCategoryList\"],\r\n  computed: {\r\n    /**\r\n     * 路由信息\r\n     * @returns {Route} 路由信息\r\n     */\r\n    route() {\r\n      return this.$route;\r\n    },\r\n    /**\r\n     * 筛选列表\r\n     * @returns {[]} 筛选列表\r\n     */\r\n    statusList() {\r\n      let fliterList = [];\r\n      if (this.tableData.length) {\r\n        this.tableData.forEach(item => {\r\n          if (\r\n            fliterList.filter(ele => ele.text === item.statusName).length === 0\r\n          ) {\r\n            fliterList.push({\r\n              text: item.statusName,\r\n              value: item.statusName\r\n            });\r\n          }\r\n        });\r\n      }\r\n      return fliterList;\r\n    },\r\n    /**\r\n     * 设置状态颜色\r\n     * @returns {String} color\r\n     */\r\n    setFontColor() {\r\n      return val => {\r\n        switch (val) {\r\n          case \"上架中\":\r\n            return \"#26AF61\";\r\n          case \"草稿\":\r\n            return \"#999\";\r\n          case \"已删除\":\r\n            return \"#ff7736\";\r\n          default:\r\n            return \"#333\";\r\n        }\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    showRecommendVis(item) {\r\n      if (item.id) {\r\n        this.$set(this.recommendForm, \"id\", item.id);\r\n        this.recommendVis = true;\r\n      }\r\n    },\r\n    updateRecommend() {\r\n      this.$refs[\"recommendForm\"].validate(async valid => {\r\n        if (!valid) {\r\n          return;\r\n        }\r\n        const { code, msg } = await recommend({\r\n          id: this.recommendForm.id,\r\n          recommendType: this.recommendForm.recommendType,\r\n          begin_time: this.recommendForm.orderTime[0] / 1000,\r\n          end_time: this.recommendForm.orderTime[1] / 1000\r\n        });\r\n        if (code !== STATUS_CODE.success) {\r\n          errorMsg(this, msg);\r\n          return;\r\n        }\r\n        successMsg(this, \"推荐成功\");\r\n        this.recommendVis = false;\r\n      })\r\n    },\r\n    /**\r\n     * 修改商品库存\r\n     * @returns {void}\r\n     */\r\n    async updateSkuStock() {\r\n      const list = this.skuCountData;\r\n      if (\r\n        list.every(item => {\r\n          return item.change === 0;\r\n        })\r\n      ) {\r\n        this.skuCountDial = false;\r\n      } else {\r\n        this.isUpdateSku = true;\r\n        const { code, msg } = await updateSkuStock({\r\n          list: list\r\n        });\r\n        this.isUpdateSku = false;\r\n        if (code !== STATUS_CODE.success) {\r\n          errorMsg(this, msg);\r\n          return;\r\n        }\r\n        await this.getGoodsList();\r\n        this.skuCountDial = false;\r\n      }\r\n      this.skuCountData = [];\r\n      this.skuCountHead = [];\r\n    },\r\n    /**\r\n     * 获取商品库存\r\n     * @param {Object} val\r\n     * @returns {void}\r\n     */\r\n    async showGoodsSku(val) {\r\n      this.skuCountData = [];\r\n      this.skuCountHead = [];\r\n      this.skuCountDial = true;\r\n      this.isShowSku = true;\r\n      const { code, msg, result } = await getSkus({\r\n        id: val.id\r\n      });\r\n      if (code !== STATUS_CODE.success) {\r\n        errorMsg(this, msg);\r\n        return;\r\n      }\r\n      const sku = result.skus;\r\n      const options = sku[0].options.list;\r\n      const tableHead = [];\r\n      const tableData = [];\r\n      options.forEach(item => {\r\n        tableHead.push(item.key);\r\n      });\r\n      // 遍历sku，生成表头和表格数据\r\n      await sku.forEach(item => {\r\n        const obj = {};\r\n        item.options.list.forEach(option => {\r\n          obj[option.key] = option.value;\r\n        });\r\n        obj[\"totalStockNum\"] = item.totalStockNum;\r\n        obj[\"change\"] = 0;\r\n        obj[\"id\"] = item.id;\r\n        tableData.push(obj);\r\n      });\r\n      this.$nextTick(() => {\r\n        this.skuCountData = tableData;\r\n        this.skuCountHead = tableHead;\r\n        this.isShowSku = false;\r\n      });\r\n    },\r\n    //校验正整数\r\n    editName(val) {\r\n      if (!/^([0]|[1-9][0-9]*)$/.test(val)) {\r\n        return \"排序数值不合法，必须为整数值\";\r\n      }\r\n    },\r\n    /**\r\n     * 编辑商品排序\r\n     * @param {Object} item\r\n     * @param {Object} type\r\n     * @returns {void}\r\n     */\r\n    changeGoodsRank(item) {\r\n      this.$prompt(\"排序数值：\", \"编辑排序\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /\\S/,\r\n        inputValidator: this.editName,\r\n        inputErrorMessage: \"排序数值不能为空\",\r\n        beforeClose: (action, instance, done) => {\r\n          if (action === \"confirm\") {\r\n            this.interceptorFn(async () => {\r\n              this.isLoading = true;\r\n              const data = await updateRank({\r\n                rank: instance.inputValue,\r\n                id: item.id\r\n              });\r\n              this.isLoading = false;\r\n              if (data.code !== STATUS_CODE.success) {\r\n                errorMsg(this, data.msg);\r\n                return;\r\n              }\r\n              done();\r\n              this.getGoodsList();\r\n            });\r\n          } else {\r\n            done();\r\n          }\r\n        }\r\n      })\r\n        .then(() => {\r\n          successMsg(this, \"编辑成功\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    setGoodsGroup(val) {\r\n      let str = \"\";\r\n      if (val.length) {\r\n        val.forEach(item => {\r\n          str += item.name + \"/\";\r\n        });\r\n      }\r\n      return str.substring(0, str.length - 1);\r\n    },\r\n    /**\r\n     * 根据条件查询商品\r\n     * @returns {void}\r\n     */\r\n    filterData() {\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = 10;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 分转元\r\n     * @param {Number} val\r\n     * @returns {Route} 元\r\n     */\r\n    setShowPrice(val) {\r\n      return regFenToYuan(val);\r\n    },\r\n    /**\r\n     * 时间戳格式化\r\n     * @param {Number} val\r\n     * @returns {string} yyyy-m-d hh:mm:ss\r\n     */\r\n    setPulishTime(val) {\r\n      if (!val || !parseInt(val)) {\r\n        return \"-\";\r\n      } else {\r\n        return dataFormat(val);\r\n      }\r\n    },\r\n    /**\r\n     * 重置筛选\r\n     * @returns {void}\r\n     */\r\n    restFilter() {\r\n      this.filter.searchKey = \"\";\r\n      this.filter.category = 0;\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = 10;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 根据条件获取商品列表\r\n     * @returns {Promise<void>} 所有商品列表\r\n     */\r\n    async getGoodsList() {\r\n      this.isLoading = true;\r\n      const params = {\r\n        name: this.filter.searchKey,\r\n        classId: parseInt(this.filter.category),\r\n        page: this.page.currentPage,\r\n        pageSize: this.page.pageSize\r\n      };\r\n      const data = await getGoodsList(params);\r\n      this.isLoading = false;\r\n      if (data.code !== STATUS_CODE.success) {\r\n        errorMsg(this, data.msg);\r\n        return;\r\n      }\r\n      this.tableData = jsonDeepClone(data.result.list);\r\n      this.tableData.forEach(item => {\r\n        item.showPrice = parseInt(item.showPrice);\r\n      });\r\n      this.page.total = data.result.count;\r\n    },\r\n    /**\r\n     * 过滤状态列\r\n     * @param {Object} value\r\n     * @param {Object} row\r\n     * @param {Object} column\r\n     * @returns {Object} Object\r\n     */\r\n    filterTag(value, row, column) {\r\n      const property = column[\"property\"];\r\n      return row[property] === value;\r\n    },\r\n    /**\r\n     * 翻页\r\n     * @param {Number} val\r\n     * @returns {void}\r\n     */\r\n    handleCurrentChange(val) {\r\n      this.page.currentPage = val;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 设置页数\r\n     * @param {Number} val\r\n     * @returns {void}\r\n     */\r\n    handleSizeChange(val) {\r\n      this.page.currentPage = 1;\r\n      this.page.pageSize = val;\r\n      this.getGoodsList();\r\n    },\r\n    /**\r\n     * 创建商品，转跳页面\r\n     * @returns {void}\r\n     */\r\n    addGoods() {\r\n      this.$router.push({\r\n        name: \"createGoods\",\r\n        query: {\r\n          title_: this.route.meta.title,\r\n          path_: this.route.path\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 编辑标签\r\n     * @param {Object}item\r\n     * @returns {void}\r\n     */\r\n    edit(item) {\r\n      this.$router.push({\r\n        name: \"createGoods\",\r\n        query: {\r\n          title_: this.route.meta.title,\r\n          path_: this.route.path,\r\n          goodsId: item.id\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 商品状态\r\n     * @param {Number} status\r\n     * @description 返回:商品状态名称\r\n     * @returns {String} status\r\n     */\r\n    setStatusName(status) {\r\n      let statusName;\r\n      if (status === STATUS_CODE.goodsDelete) {\r\n        statusName = \"删除\";\r\n      } else if (status === STATUS_CODE.goodsRelease) {\r\n        statusName = \"上架\";\r\n      } else if (status === STATUS_CODE.goodsLower) {\r\n        statusName = \"下架\";\r\n      } else {\r\n        statusName = \"未知状态\";\r\n      }\r\n      return statusName;\r\n    },\r\n    /**\r\n     * 修改商品状态\r\n     * @param {Object} item\r\n     * @param {Number} status\r\n     * @returns {void}\r\n     */\r\n    updateStatus(item, status) {\r\n      if (!status || !item) {\r\n        return new Error(\"位置错误：!status || !item\");\r\n      }\r\n      const statusName = this.setStatusName(status);\r\n      this.$confirm(`确定要${statusName}商品【${item.name}】？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(() => {\r\n          this.isLoading = true;\r\n          this.interceptorFn(async () => {\r\n            const data = await delGoods({\r\n              id: parseInt(item.id),\r\n              status: status\r\n            });\r\n            this.isLoading = false;\r\n            if (data.code !== STATUS_CODE.success) {\r\n              errorMsg(this, data.msg);\r\n              return;\r\n            }\r\n            successMsg(this, \"操作成功\");\r\n            this.getGoodsList();\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodsList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/*.layout-title-box {*/\r\n/*  margin-top: 10px;*/\r\n/*  .titles {*/\r\n/*    font-size: 20px;*/\r\n/*  }*/\r\n/*  display: flex;*/\r\n/*  justify-content: space-between;*/\r\n/*}*/\r\n.goodsTit-box {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  .el-image {\r\n    min-width: 40px;\r\n    margin-right: 5px;\r\n  }\r\n}\r\n.goods-group-box {\r\n  display: block;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.layout-title-box.layout-title-filter {\r\n  .filter {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    .filter-item {\r\n      margin-right: 40px;\r\n      &.btnItem {\r\n        margin-right: 20px;\r\n      }\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/container/goodsManage/allGoods"}]}