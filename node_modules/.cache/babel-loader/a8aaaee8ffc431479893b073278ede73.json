{"remainingRequest":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js!/Users/caijianli/Desktop/malladmin/node_modules/eslint-loader/index.js??ref--13-0!/Users/caijianli/Desktop/malladmin/src/views/container/createArticle/controller/index.js","dependencies":[{"path":"/Users/caijianli/Desktop/malladmin/src/views/container/createArticle/controller/index.js","mtime":1582099472000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caijianli/Desktop/malladmin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY2FpamlhbmxpL0Rlc2t0b3AvbWFsbGFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9jYWlqaWFubGkvRGVza3RvcC9tYWxsYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovKioNCiAqICBDcmVhdGVkIGJ5IHdhbmdBbGVuIG9uIDIwMTktMTEtMTIgMTE6NDkNCiAqLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyB3YXJuaW5nTXNnLCBzdWNjZXNzTXNnLCB1dWlkLCBqc29uRGVlcENsb25lLCBTVEFUVVNfQ09ERSwgZXJyb3JNc2cgfSBmcm9tICJAL2NvbW1vbnV0aWxzL2NvbW1vbiI7CmltcG9ydCB7IGNyZWF0ZUNvbnRlbnQsIGdldENvbnRlbnRJbmZvIH0gZnJvbSAiLi9yZXF1ZXN0IjsKaW1wb3J0IENvbGxhcHNlVHJhbnNpdGlvbiBmcm9tICJlbGVtZW50LXVpL2xpYi90cmFuc2l0aW9ucy9jb2xsYXBzZS10cmFuc2l0aW9uIjsKaW1wb3J0IGVkaXRvciBmcm9tICJAL2NvbXBvbmVudHMvZWRpdG9yIjsKaW1wb3J0IHsgY29udGVudFR5cGVMaXN0IH0gZnJvbSAiLi4vLi4vYXJ0aWNsZU1hbmFnZS9yZXF1ZXN0IjsKaW1wb3J0IGltYWdlVXBsb2FkIGZyb20gIkAvY29tcG9uZW50cy9pbWFnZVVwbG9hZCI7CmltcG9ydCB2aWRlb1VwbG9hZCBmcm9tICJAL2NvbXBvbmVudHMvdmlkZW9VcGxvYWQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWF0ZUdvb2RzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudFR5cGVMaXN0OiBjb250ZW50VHlwZUxpc3QsCiAgICAgIHNob3cxOiB0cnVlLAogICAgICBzaG93MjogdHJ1ZSwKICAgICAgc2hvdzM6IHRydWUsCiAgICAgIHByb2dyZXNzOiB7CiAgICAgICAgY291bnQ6IDAsCiAgICAgICAgc3RhdHVzOiAiIgogICAgICB9LAogICAgICBmb3JtOiB7CiAgICAgICAgdHlwZTogIiIsCiAgICAgICAgLy8g5YaF5a6557G75YirCiAgICAgICAgZGVzY3JpYmU6ICIiLAogICAgICAgIC8vIOWGheWuueaPj+i/sAogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAvLyDlhoXlrrnlkI3np7AKICAgICAgICBjb3ZlcjogIiIsCiAgICAgICAgLy8g5YaF5a655Li75Zu+5YiX6KGoCiAgICAgICAgdGFnczogW10sCiAgICAgICAgLy8g5YaF5a655qCH562+5YiX6KGoCiAgICAgICAgdmlkZW86ICIiLAogICAgICAgIC8vIOWGheWuueinhumikQogICAgICAgIGRldGFpbHM6ICIiIC8vIOWvjOaWh+acrAoKICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZhY2VMaXN0OiBbXSwKICAgICAgZWRpdG9yQ29udGVudDogIiIsCiAgICAgIEZJTEVfVFlQRV9BVkFUQVI6IHByb2Nlc3MuZW52LlZVRV9BUFBfRklMRV9UWVBFX0FWQVRBUiwKICAgICAgU1VDQ19DT0RFOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfU1VDQ19DT0RFLAogICAgICBFUlJfVE9LRU5fQ09ERTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0VSUl9UT0tFTl9DT0RFLAogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5YaF5a655ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6IFsiY2hhbmdlIl0KICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCAyIOWIsCA1MCDkuKrlrZfnrKYiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBkZXNjcmliZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWGheWuueaPj+i/sCIsCiAgICAgICAgICB0cmlnZ2VyOiBbImNoYW5nZSJdCiAgICAgICAgfV0sCiAgICAgICAgdHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWGheWuueWIhuexuyIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGlzRHJhZnQ6IGZhbHNlLAogICAgICBpc1JlbGVhc2U6IGZhbHNlLAogICAgICBnb29kc0luZm9PcmlnaW46IHt9LAogICAgICB0YWdzTGlzdDogW10sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlZGl0TGF5b3V0OiB7CiAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICBoZWlnaHQ6ICI0MDBweCIKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbGxhcHNlVHJhbnNpdGlvbjogQ29sbGFwc2VUcmFuc2l0aW9uLAogICAgZWRpdG9yOiBlZGl0b3IsCiAgICBpbWFnZVVwbG9hZDogaW1hZ2VVcGxvYWQsCiAgICB2aWRlb1VwbG9hZDogdmlkZW9VcGxvYWQKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvbnRlbnRJbmZvRGF0YSgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsidXNlciIsICJhbGl5dW5Pc3MiXSksIHsKICAgIC8qKg0KICAgICAqIOaYr+WQpuWPr+e8lui+kQ0KICAgICAqIEByZXR1cm5zIHtib29sZWFufSDnvJbovpHnirbmgIENCiAgICAgKi8KICAgIGlzRWRpdDogZnVuY3Rpb24gaXNFZGl0KCkgewogICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnJvdXRlRGF0YS5xdWVyeS5nb29kc0lkKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6Lev55Sx5L+h5oGvDQogICAgICogQHJldHVybnMge1JvdXRlfSDot6/nlLHkv6Hmga8NCiAgICAgKi8KICAgIHJvdXRlRGF0YTogZnVuY3Rpb24gcm91dGVEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGU7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgLyoqDQogICAgICog5qC55o2u6Lev55SxaWTmn6Xor6LlhoXlrrnor6bmg4UNCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gZ29vZHNJbmZvDQogICAgICovCiAgICBnZXRDb250ZW50SW5mb0RhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDb250ZW50SW5mb0RhdGEgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXJhbXMsIGRhdGEsIGNvbnRlbnRJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucm91dGVEYXRhLnF1ZXJ5OyAvLyDliKTmlq3mmK/lkKbkuLrnvJbovpHnirbmgIEKCiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNvbnRlbnRJZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsgLy8gdGhpcy4kcm91dGUubWV0YS50aXRsZSA9ICLnvJbovpHlhoXlrrkiOwogICAgICAgICAgICAgICAgLy8g6K+35rGC5YaF5a656K+m5oOF5pWw5o2uCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29udGVudEluZm8oewogICAgICAgICAgICAgICAgICBpZDogcGFyYW1zLmNvbnRlbnRJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKGRhdGEuY29kZSAhPT0gU1RBVFVTX0NPREUuc3VjY2VzcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlcnJvck1zZyh0aGlzLCBkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHRoaXMuZ29vZHNJbmZvT3JpZ2luID0ganNvbkRlZXBDbG9uZShkYXRhLnJlc3VsdC5jb250ZW50KTsgLy8g5aSH5Lu95Y6f5aeL5pWw5o2uCgogICAgICAgICAgICAgICAgY29udGVudEluZm8gPSBkYXRhLnJlc3VsdC5jb250ZW50OyAvLyBjb25zdCB0YWdzID0gY29udGVudEluZm8udGFncy5saXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbnRlbnRJbmZvLnR5cGUsCiAgICAgICAgICAgICAgICAgIC8vIOWGheWuueexu+WIqwogICAgICAgICAgICAgICAgICBkZXNjcmliZTogY29udGVudEluZm8uZGVzY3JpYmUsCiAgICAgICAgICAgICAgICAgIC8vIOWGheWuueexu+WIqwogICAgICAgICAgICAgICAgICB0aXRsZTogY29udGVudEluZm8udGl0bGUsCiAgICAgICAgICAgICAgICAgIC8vIOWGheWuueWQjeensAogICAgICAgICAgICAgICAgICB2aWRlbzogY29udGVudEluZm8udmlkZW8sCiAgICAgICAgICAgICAgICAgIC8vIOmAgumFjQogICAgICAgICAgICAgICAgICAvLyB0YWdzOiB0YWdzLCAvLyDlhoXlrrnlkI3np7AKICAgICAgICAgICAgICAgICAgY292ZXI6IGNvbnRlbnRJbmZvLmNvdmVyIC8vIOWGheWuueS4u+WbvuWIl+ihqAoKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAiZGV0YWlscyIsIGNvbnRlbnRJbmZvLmRldGFpbHMpOyAvLyDliJ3lp4vljJblr4zmlofmnKzlhoXlrrkKCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAic3RhdHVzIiwgY29udGVudEluZm8uc3RhdHVzKTsgLy8g5Yid5aeL5YyW5a+M5paH5pys5YaF5a65CgogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgImlkIiwgdGhpcy5yb3V0ZURhdGEucXVlcnkuY29udGVudElkKTsgLy8g6K6+572u5YaF5a65aWTvvIzmm7TmlrDnvJbovpHnirbmgIEKCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldENvbnRlbnRJbmZvRGF0YSgpIHsKICAgICAgICByZXR1cm4gX2dldENvbnRlbnRJbmZvRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q29udGVudEluZm9EYXRhOwogICAgfSgpLAoKICAgIC8qKg0KICAgICAqIOS/neWtmOWGheWuuQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBnb29kc0Zvcm0NCiAgICAgKiBAcmV0dXJucyB7dm9pZH0NCiAgICAgKi8KICAgIHNhdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZ29vZHNGb3JtKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSBqc29uRGVlcENsb25lKHRoaXMuZm9ybSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW2dvb2RzRm9ybV0udmFsaWRhdGUoCiAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAgICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAgICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zLCByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmZvcm0uY292ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nTXNnKF90aGlzLCAi6K+35LiK5Lyg5YaF5a655Li75Zu+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kZXRhaWxzLnRyaW0oKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdNc2coX3RoaXMsICLor7floavlhpnlhoXlrrnor6bmg4UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHRhZ3MgPSBkYXRhLnRhZ3MubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlkOiBpdGVtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkIHx8IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlhoXlrrlpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWGheWuueWQjeensAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBkYXRhLmNvdmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWGheWuueiDjOaZr+WbvgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGRhdGEuZGV0YWlscywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlhoXlrrnor6bmg4Uo5a+M5paH5pysKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaF5a656K+m5oOFKOWvjOaWh+acrCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkYXRhLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaF5a655YiG57G7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86IGRhdGEudmlkZW8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6KeG6aKRCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFnczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgbGlzdDogdGFncwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sIC8vIOagh+etvgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaWJlOiBkYXRhLmRlc2NyaWJlIC8vIOWGheWuueaPj+i/sAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29udGVudChwYXJhbXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0RyYWZ0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmlzUmVsZWFzZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5jb2RlICE9PSBTVEFUVVNfQ09ERS5zdWNjZXNzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyhfdGhpcywgcmVzcG9uc2UubXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNc2coX3RoaXMsICIiLmNvbmNhdChkYXRhLmlkID8gIue8lui+keaIkOWKnyIgOiAi5Yib5bu65oiQ5YqfIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnJlcGxhY2UoX3RoaXMucm91dGVEYXRhLnF1ZXJ5LnBhdGhfKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmUoX3gpIHsKICAgICAgICByZXR1cm4gX3NhdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmU7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["/Users/caijianli/Desktop/malladmin/src/views/container/createArticle/controller/index.js"],"names":["mapState","warningMsg","successMsg","uuid","jsonDeepClone","STATUS_CODE","errorMsg","createContent","getContentInfo","CollapseTransition","editor","contentTypeList","imageUpload","videoUpload","name","data","show1","show2","show3","progress","count","status","form","type","describe","title","cover","tags","video","details","loading","faceList","editorContent","FILE_TYPE_AVATAR","process","env","VUE_APP_FILE_TYPE_AVATAR","SUCC_CODE","VUE_APP_BASE_SUCC_CODE","ERR_TOKEN_CODE","VUE_APP_BASE_ERR_TOKEN_CODE","rules","required","message","trigger","min","max","isDraft","isRelease","goodsInfoOrigin","tagsList","dialogVisible","isLoading","editLayout","width","height","components","created","getContentInfoData","computed","isEdit","Boolean","routeData","query","goodsId","$route","methods","params","contentId","id","code","success","msg","result","content","contentInfo","$set","save","goodsForm","$refs","validate","valid","trim","undefined","response","setTimeout","$router","replace","path_"],"mappings":"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","sourcesContent":["/**\r\n *  Created by wangAlen on 2019-11-12 11:49\r\n */\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n  warningMsg,\r\n  successMsg,\r\n  uuid,\r\n  jsonDeepClone,\r\n  STATUS_CODE,\r\n  errorMsg\r\n} from \"@/commonutils/common\";\r\nimport { createContent, getContentInfo } from \"./request\";\r\nimport CollapseTransition from \"element-ui/lib/transitions/collapse-transition\";\r\nimport editor from \"@/components/editor\";\r\nimport { contentTypeList } from \"../../articleManage/request\";\r\nimport imageUpload from \"@/components/imageUpload\";\r\nimport videoUpload from \"@/components/videoUpload\";\r\n\r\nexport default {\r\n  name: \"CreateGoods\",\r\n  data() {\r\n    return {\r\n      contentTypeList: contentTypeList,\r\n      show1: true,\r\n      show2: true,\r\n      show3: true,\r\n      progress: {\r\n        count: 0,\r\n        status: \"\"\r\n      },\r\n      form: {\r\n        type: \"\", // 内容类别\r\n        describe: \"\", // 内容描述\r\n        title: \"\", // 内容名称\r\n        cover: \"\", // 内容主图列表\r\n        tags: [], // 内容标签列表\r\n        video: \"\", // 内容视频\r\n        details: \"\" // 富文本\r\n      },\r\n      loading: false,\r\n      faceList: [],\r\n      editorContent: \"\",\r\n      FILE_TYPE_AVATAR: process.env.VUE_APP_FILE_TYPE_AVATAR,\r\n      SUCC_CODE: process.env.VUE_APP_BASE_SUCC_CODE,\r\n      ERR_TOKEN_CODE: process.env.VUE_APP_BASE_ERR_TOKEN_CODE,\r\n      rules: {\r\n        title: [\r\n          {\r\n            required: true,\r\n            message: \"请输入内容名称\",\r\n            trigger: [\"change\"]\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 50,\r\n            message: \"长度在 2 到 50 个字符\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        describe: [\r\n          {\r\n            required: true,\r\n            message: \"请输入内容描述\",\r\n            trigger: [\"change\"]\r\n          }\r\n        ],\r\n        type: [{ required: true, message: \"请选择内容分类\", trigger: \"change\" }]\r\n      },\r\n      isDraft: false,\r\n      isRelease: false,\r\n      goodsInfoOrigin: {},\r\n      tagsList: [],\r\n      dialogVisible: false,\r\n      isLoading: false,\r\n      editLayout: {\r\n        width: \"100%\",\r\n        height: \"400px\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    CollapseTransition,\r\n    editor,\r\n    imageUpload,\r\n    videoUpload\r\n  },\r\n  created() {\r\n    this.getContentInfoData();\r\n  },\r\n  computed: {\r\n    ...mapState([\"user\", \"aliyunOss\"]),\r\n    /**\r\n     * 是否可编辑\r\n     * @returns {boolean} 编辑状态\r\n     */\r\n    isEdit() {\r\n      return Boolean(this.routeData.query.goodsId);\r\n    },\r\n    /**\r\n     * 路由信息\r\n     * @returns {Route} 路由信息\r\n     */\r\n    routeData() {\r\n      return this.$route;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 根据路由id查询内容详情\r\n     * @returns {Promise<void>} goodsInfo\r\n     */\r\n    async getContentInfoData() {\r\n      const params = this.routeData.query;\r\n      // 判断是否为编辑状态\r\n      if (!params.contentId) {\r\n        // 根据编辑状态设置title\r\n        // this.$route.meta.title = \"创建内容\";\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      // this.$route.meta.title = \"编辑内容\";\r\n      // 请求内容详情数据\r\n      const data = await getContentInfo({ id: params.contentId });\r\n      if (data.code !== STATUS_CODE.success) {\r\n        errorMsg(this, data.msg);\r\n        return;\r\n      }\r\n      this.goodsInfoOrigin = jsonDeepClone(data.result.content); // 备份原始数据\r\n      const contentInfo = data.result.content;\r\n      // const tags = contentInfo.tags.list.map(item => {\r\n      //   return item.id;\r\n      // });\r\n      this.form = {\r\n        type: contentInfo.type, // 内容类别\r\n        describe: contentInfo.describe, // 内容类别\r\n        title: contentInfo.title, // 内容名称\r\n        video: contentInfo.video, // 适配\r\n        // tags: tags, // 内容名称\r\n        cover: contentInfo.cover // 内容主图列表\r\n      };\r\n      this.$set(this.form, \"details\", contentInfo.details); // 初始化富文本内容\r\n      this.$set(this.form, \"status\", contentInfo.status); // 初始化富文本内容\r\n      this.$set(this.form, \"id\", this.routeData.query.contentId); // 设置内容id，更新编辑状态\r\n      this.isLoading = false;\r\n    },\r\n    /**\r\n     * 保存内容\r\n     * @param {String} goodsForm\r\n     * @returns {void}\r\n     */\r\n    async save(goodsForm) {\r\n      const data = jsonDeepClone(this.form);\r\n      this.$refs[goodsForm].validate(async valid => {\r\n        if (!valid) {\r\n          return false;\r\n        }\r\n        if (!this.form.cover) {\r\n          warningMsg(this, \"请上传内容主图\");\r\n          return false;\r\n        }\r\n        if (!data.details.trim()) {\r\n          warningMsg(this, \"请填写内容详情\");\r\n          return false;\r\n        }\r\n        // const tags = data.tags.map(item => {\r\n        //   return {\r\n        //     id: item\r\n        //   };\r\n        // });\r\n        const params = {\r\n          content: {\r\n            id: data.id || undefined, // 内容id\r\n            title: data.title, // 内容名称\r\n            cover: data.cover, // 内容背景图\r\n            details: data.details, // 内容详情(富文本)\r\n            status: data.status, // 内容详情(富文本)\r\n            type: data.type, // 内容分类\r\n            video: data.video, // 视频\r\n            // tags: {\r\n            //   list: tags\r\n            // }, // 标签\r\n            describe: data.describe // 内容描述\r\n          }\r\n        };\r\n        const response = await createContent(params);\r\n        setTimeout(() => {\r\n          this.isDraft = false;\r\n          this.isRelease = false;\r\n        }, 500);\r\n        if (response.code !== STATUS_CODE.success) {\r\n          errorMsg(this, response.msg);\r\n          return;\r\n        }\r\n        successMsg(this, `${data.id ? \"编辑成功\" : \"创建成功\"}`);\r\n        await this.$router.replace(this.routeData.query.path_);\r\n      });\r\n    }\r\n  }\r\n};\r\n"]}]}